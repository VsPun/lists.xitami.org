<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Xitami-Dev] Hummm...POST'ing binary data to a LRWP process *does* work after all :)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:xitami-dev%40lists.xitami.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000226.html">
   <LINK REL="Next"  HREF="000232.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xitami-Dev] Hummm...POST'ing binary data to a LRWP process *does* work after all :)
   </H1>
    <B>Fabien Royer
    </B> 
    <A HREF="mailto:xitami-dev%40lists.xitami.org"
       TITLE="[Xitami-Dev] Hummm...POST'ing binary data to a LRWP process *does* work after all :)">xitami-dev@lists.xitami.org
       </A><BR>
    <I>Fri, 14 Jun 2002 01:21:27 -0400</I>
    <P><UL>
        <LI> Previous message: <A HREF="000226.html">[Xitami-Dev] POST'ing binary data to LRWP process does not
 work (bug in xilrwp.c?)
</A></li>
        <LI> Next message: <A HREF="000232.html">[Xitami-Dev] Mailing List Admin: DNS changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#227">[ date ]</a>
              <a href="thread.html#227">[ thread ]</a>
              <a href="subject.html#227">[ subject ]</a>
              <a href="author.html#227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

Thank you Rafael for pointing me in the right direction :)

After much reading (of RFC 1521) about &quot;Content-Type: multipart/form-data&quot; 
(and looking at a raw dump of a HTTP file upload using libwww), I finally 
got my binary uploads to work flawlessly using a LRWP.

Sorry about the confusion.

Regards,
Fabien.

&gt;<i>From: Rafael Cano Pérez &lt;<A HREF="mailto:rafael.cano@o-labs.com">rafael.cano@o-labs.com</A>&gt;
</I>&gt;<i>Reply-To: <A HREF="mailto:xitami-dev@lists.xitami.org">xitami-dev@lists.xitami.org</A>
</I>&gt;<i>To: &lt;<A HREF="mailto:xitami-dev@lists.xitami.org">xitami-dev@lists.xitami.org</A>&gt;
</I>&gt;<i>Subject: RE: [Xitami-Dev] POST'ing binary data to LRWP process does not 
</I>&gt;<i>work (bug in xilrwp.c?)
</I>&gt;<i>Date: Thu, 13 Jun 2002 21:31:22 +0200
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Fabien,
</I>&gt;<i>
</I>&gt;<i>  I am building a system that receives binary data
</I>&gt;<i>  in an LRWP connected process. No problem, use
</I>&gt;<i>  http_multipart_mem().
</I>&gt;<i>
</I>&gt;<i>  Regards.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    Rafael Cano Pérez
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>-----Mensaje original-----
</I>&gt;<i>De: <A HREF="mailto:xitami-dev-admin@lists.xitami.org">xitami-dev-admin@lists.xitami.org</A>
</I>&gt;<i>[mailto:<A HREF="mailto:xitami-dev-admin@lists.xitami.org">xitami-dev-admin@lists.xitami.org</A>]En nombre de Fabien Royer
</I>&gt;<i>Enviado el: jueves, 13 de junio de 2002 20:12
</I>&gt;<i>Para: <A HREF="mailto:xitami-dev@lists.xitami.org">xitami-dev@lists.xitami.org</A>
</I>&gt;<i>Asunto: Re: [Xitami-Dev] POST'ing binary data to LRWP process does not
</I>&gt;<i>work (bug in xilrwp.c?)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>George,
</I>&gt;<i>
</I>&gt;<i>Let me be more specific.
</I>&gt;<i>
</I>&gt;<i>While you are right about a LRWP process being capable of *sending* binary
</I>&gt;<i>data without any problem (I have tested that on JPEG files too), you are 
</I>&gt;<i>not
</I>&gt;<i>correct about a LRWP being capable of *receiving* binary data POST'ed to 
</I>&gt;<i>it.
</I>&gt;<i>
</I>&gt;<i>For instance, try to POST a JPEG image to your LRWP process rather than
</I>&gt;<i>having it uploaded over FTP. You will not get what you expect.
</I>&gt;<i>
</I>&gt;<i>The obvious workaround would be to UUENCODE the binary data, but I want to
</I>&gt;<i>avoid this at all cost. There's no reason why a LRWP could not handle 
</I>&gt;<i>binary
</I>&gt;<i>data.
</I>&gt;<i>
</I>&gt;<i>Regards,
</I>&gt;<i>Fabien.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt;From: George Blat &lt;<A HREF="mailto:georgeb@ntrealtime.com">georgeb@ntrealtime.com</A>&gt;
</I>&gt;<i> &gt;Reply-To: <A HREF="mailto:xitami-dev@lists.xitami.org">xitami-dev@lists.xitami.org</A>
</I>&gt;<i> &gt;To: <A HREF="mailto:xitami-dev@lists.xitami.org">xitami-dev@lists.xitami.org</A>
</I>&gt;<i> &gt;Subject: Re: [Xitami-Dev] POST'ing binary data to LRWP process does not
</I>&gt;<i> &gt;work (bug in xilrwp.c?)
</I>&gt;<i> &gt;Date: Thu, 13 Jun 2002 09:58:58 -0700
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I use modules that process uploaded .jpg files sent to the server
</I>&gt;<i> &gt;  and did not have any problem. I have verified that LRWP can handle 
</I>&gt;<i>binary
</I>&gt;<i> &gt;streams.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;George
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;At 12:42 PM 6/13/2002 -0400, you wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;Hi all,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;I have a client app written to POST compressed and encrypted data to a
</I>&gt;<i> &gt;&gt;LRWP process. The problem is that the LRWP process only receives a few
</I>&gt;<i> &gt;&gt;bytes instead of the whole data stream. Basically, it appears that the 
</I>&gt;<i>WSX
</I>&gt;<i> &gt;&gt;module xilrwp.c punts on the first NUL it encounters in the stream.
</I>&gt;<i> &gt;&gt;POST'ing text data works like a charm though...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Looking at the source code, it would appear that this issue has been
</I>&gt;<i> &gt;&gt;resolved already (as indicated by the comments at the top of xilrwp.c).
</I>&gt;<i> &gt;&gt;But the problem still exists as of the latest 2.5 codebase...Or am I
</I>&gt;<i> &gt;&gt;missing something?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Has anyone written a fix for this issue (I'd like to know before I do 
</I>&gt;<i>it).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;Regards,
</I>&gt;<i> &gt;&gt;Fabien.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;/*
</I>&gt;<i> &gt;&gt;----------------------------------------------------------------&lt;Prolog&gt;-
</I>&gt;<i> &gt;&gt;    Name:       xilrwp.c
</I>&gt;<i> &gt;&gt;    Title:      Xitami WSX agent for long-running web process (LRWP)
</I>&gt;<i> &gt;&gt;protocol
</I>&gt;<i> &gt;&gt;    Package:    Xitami
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;    Written:    1997/10/29    Robin P. Dunn  Total Control Software
</I>&gt;<i> &gt;&gt;    Revised:    1999/09/02    Xitami Team: Updated for LRWP 2.0, fixes
</I>&gt;<i> &gt;&gt;from
</I>&gt;<i> &gt;&gt;                                Bruce Dodson &lt;<A HREF="mailto:bruce_dodson@bigfoot.com">bruce_dodson@bigfoot.com</A>&gt;
</I>&gt;<i> &gt;&gt;                1999/11/11    Xitami Team: Bug fixes for cleanup code to
</I>&gt;<i> &gt;&gt;prevent
</I>&gt;<i> &gt;&gt;                                         DoS issues.
</I>&gt;<i> &gt;&gt;                1999/12/30    Xitami Team: Fixed issues with NULs in 
</I>&gt;<i>data
</I>&gt;<i> &gt;&gt;sent
</I>&gt;<i> &gt;&gt;                 2001/05/15    Xitami Team: Fixed issue with sending
</I>&gt;<i> &gt;&gt;binary data
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;    Copyright:  Copyright (c) 1991-2000 iMatix Corporation
</I>&gt;<i> &gt;&gt;    License:    This is free software; you can redistribute it and/or
</I>&gt;<i> &gt;&gt;modify
</I>&gt;<i> &gt;&gt;                it under the terms of the SMT License Agreement as
</I>&gt;<i> &gt;&gt;provided
</I>&gt;<i> &gt;&gt;                in the file LICENSE.TXT.  This software is distributed 
</I>&gt;<i>in
</I>&gt;<i> &gt;&gt;                the hope that it will be useful, but without any 
</I>&gt;<i>warranty.
</I>&gt;<i> &gt;&gt;------------------------------------------------------------------&lt;/Prolog
</I>&gt;<i> &gt;-*/
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;_________________________________________________________________
</I>&gt;<i> &gt;&gt;Send and receive Hotmail on your mobile device: <A HREF="http://mobile.msn.com">http://mobile.msn.com</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;--
</I>&gt;<i> &gt;&gt;Xitami-Dev -- Xitami Development Mailing List
</I>&gt;<i> &gt;&gt;To unsubscribe: <A HREF="http://lists.xitami.org/mailman/listinfo/xitami-dev">http://lists.xitami.org/mailman/listinfo/xitami-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;--
</I>&gt;<i> &gt;Xitami-Dev -- Xitami Development Mailing List
</I>&gt;<i> &gt;To unsubscribe: <A HREF="http://lists.xitami.org/mailman/listinfo/xitami-dev">http://lists.xitami.org/mailman/listinfo/xitami-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>_________________________________________________________________
</I>&gt;<i>Get your FREE download of MSN Explorer at <A HREF="http://explorer.msn.com/intl.asp.">http://explorer.msn.com/intl.asp.</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>--
</I>&gt;<i>Xitami-Dev -- Xitami Development Mailing List
</I>&gt;<i>To unsubscribe: <A HREF="http://lists.xitami.org/mailman/listinfo/xitami-dev">http://lists.xitami.org/mailman/listinfo/xitami-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>--
</I>&gt;<i>Xitami-Dev -- Xitami Development Mailing List
</I>&gt;<i>To unsubscribe: <A HREF="http://lists.xitami.org/mailman/listinfo/xitami-dev">http://lists.xitami.org/mailman/listinfo/xitami-dev</A>
</I>



_________________________________________________________________
Get your FREE download of MSN Explorer at <A HREF="http://explorer.msn.com/intl.asp.">http://explorer.msn.com/intl.asp.</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000226.html">[Xitami-Dev] POST'ing binary data to LRWP process does not
 work (bug in xilrwp.c?)
</A></li>
	<LI> Next message: <A HREF="000232.html">[Xitami-Dev] Mailing List Admin: DNS changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#227">[ date ]</a>
              <a href="thread.html#227">[ thread ]</a>
              <a href="subject.html#227">[ subject ]</a>
              <a href="author.html#227">[ author ]</a>
         </LI>
       </UL>
</body></html>
