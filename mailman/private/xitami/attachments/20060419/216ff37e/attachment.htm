<tt>
&lt;html&gt;<br>
&lt;body&gt;<br>
What&nbsp;I&nbsp;don't&nbsp;understand&nbsp;is&nbsp;why&nbsp;you&nbsp;would&nbsp;need&nbsp;two&nbsp;different&nbsp;servers&nbsp;to<br>
route&nbsp;a&nbsp;virtual&nbsp;host?&lt;br&gt;<br>
Well&nbsp;then&nbsp;I&nbsp;understand&nbsp;your&nbsp;case&nbsp;a&nbsp;bit&nbsp;better&nbsp;and&nbsp;it&nbsp;would&nbsp;be&nbsp;as&nbsp;the<br>
previous&nbsp;caller&nbsp;said,&nbsp;reroute&nbsp;the&nbsp;signal&nbsp;by&nbsp;an&nbsp;internal&nbsp;DNS<br>
server.&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
At&nbsp;17:40&nbsp;19/04/2006,&nbsp;you&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;type=cite&nbsp;class=cite&nbsp;cite=&quot;&quot;&gt;I'm&nbsp;not&nbsp;quite&nbsp;sure&nbsp;what&nbsp;you're<br>
saying.&lt;br&gt;<br>
We&nbsp;only&nbsp;have&nbsp;one&nbsp;external&nbsp;IP&nbsp;address,&nbsp;which&nbsp;is&nbsp;being&nbsp;used&nbsp;by&nbsp;a<br>
primay&lt;br&gt;<br>
site&nbsp;(hosted&nbsp;by&nbsp;Apache).&lt;br&gt;<br>
The&nbsp;secondary&nbsp;site,&nbsp;hosted&nbsp;by&nbsp;Xitami,&nbsp;is&nbsp;on&nbsp;a&nbsp;LAN.&amp;nbsp;&nbsp;We&nbsp;can&nbsp;not&nbsp;put<br>
it&lt;br&gt;<br>
any&nbsp;farther&nbsp;out&nbsp;because&nbsp;we&nbsp;do&nbsp;not&nbsp;have&nbsp;another&nbsp;IP&nbsp;address&nbsp;and&nbsp;I&nbsp;do<br>
not&lt;br&gt;<br>
want&nbsp;to&nbsp;put&nbsp;a&nbsp;Windows&nbsp;machine&nbsp;right&nbsp;on&nbsp;the&nbsp;Internet.&lt;br&gt;<br>
The&nbsp;problem&nbsp;lies&nbsp;with&nbsp;the&nbsp;Location&nbsp;header.&lt;br&gt;<br>
When&nbsp;a&nbsp;directory&nbsp;is&nbsp;requested&nbsp;with&nbsp;out&nbsp;the&nbsp;trailing&nbsp;slash&nbsp;(eg:&lt;br&gt;<br>
example.com/foo&nbsp;instead&nbsp;of&nbsp;example.com/foo/),&nbsp;Xitami&nbsp;does&nbsp;what&nbsp;it&lt;br&gt;<br>
should&nbsp;and&nbsp;sends&nbsp;a&nbsp;302&nbsp;moved&nbsp;temporally&nbsp;header,&nbsp;trying&nbsp;to&nbsp;redirect<br>
the&lt;br&gt;<br>
client&nbsp;to&nbsp;/foo/.&amp;nbsp;&nbsp;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;the&nbsp;Location:&nbsp;used&nbsp;by&nbsp;Xitami<br>
is&lt;br&gt;<br>
it's&nbsp;IP&nbsp;address,&nbsp;NOT&nbsp;the&nbsp;host&nbsp;supplied&nbsp;by&nbsp;the&nbsp;browser&nbsp;(as,&nbsp;I<br>
believe,&lt;br&gt;<br>
it&nbsp;should&nbsp;be).&lt;br&gt;<br>
Here&nbsp;is&nbsp;what&nbsp;the&nbsp;transaction&nbsp;looks&nbsp;like:&lt;br&gt;&lt;br&gt;<br>
Browser:&lt;br&gt;<br>
GET&nbsp;/foo&nbsp;HTTP/1.1&lt;br&gt;<br>
Host:&nbsp;xitami.example.com&lt;br&gt;&lt;br&gt;<br>
Xitami:&lt;br&gt;<br>
HTTP/1.0&nbsp;302&nbsp;Moved&nbsp;Temporarily&lt;br&gt;<br>
Vary:&nbsp;Host&lt;br&gt;<br>
Location:<br>
&lt;a&nbsp;href=&quot;http://192.168.1.2/foo/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://192.168.1.2/foo/&lt;/a&gt;&lt;br&gt;&lt;br&gt;<br>
But&nbsp;this&nbsp;is&nbsp;what&nbsp;it&nbsp;should&nbsp;say:&lt;br&gt;<br>
HTTP/1.0&nbsp;301&nbsp;Moved&nbsp;Permanently&lt;br&gt;<br>
Location:<br>
&lt;a&nbsp;href=&quot;http://xitami.example.com/foo/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://xitami.example.com/foo/&lt;/a&gt;&lt;br&gt;&lt;br&gt;<br>
I&nbsp;hope&nbsp;this&nbsp;clarifies&nbsp;things.&lt;br&gt;<br>
David&lt;br&gt;&lt;br&gt;<br>
On&nbsp;4/19/06,&nbsp;MRJ&nbsp;InfoTech&nbsp;Admin&nbsp;&amp;lt;admin@mrjdesign.net&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;Your&nbsp;DNS&nbsp;server&nbsp;should&nbsp;route&nbsp;the&nbsp;traffic&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;your&nbsp;Xitami&nbsp;should&nbsp;be&nbsp;on&nbsp;a&nbsp;machine&nbsp;on&nbsp;the&nbsp;outside&nbsp;of&nbsp;your&nbsp;fire<br>
walled&lt;br&gt;<br>
&amp;gt;&nbsp;router&nbsp;or&nbsp;a&nbsp;DMZ&nbsp;machine&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;Then&nbsp;you&nbsp;can&nbsp;skip&nbsp;the&nbsp;double&nbsp;router&nbsp;step&nbsp;of&nbsp;the&nbsp;apache<br>
hack.&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;All&nbsp;IP&nbsp;to&nbsp;Domain&nbsp;name&nbsp;is&nbsp;routed&nbsp;through,&nbsp;say&nbsp;BIND&nbsp;9.3&nbsp;or<br>
different&nbsp;DNS&lt;br&gt;<br>
&amp;gt;&nbsp;solutions&nbsp;only.&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;Xitami&nbsp;only&nbsp;handles&nbsp;Virtual&nbsp;host&nbsp;routes&nbsp;on&nbsp;that&nbsp;same&nbsp;IP&nbsp;to<br>
specific&lt;br&gt;<br>
&amp;gt;&nbsp;directed&nbsp;domains,&nbsp;still&nbsp;routed&nbsp;with&nbsp;DNS&nbsp;albeit&nbsp;virtual.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;MRJ&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;At&nbsp;15:58&nbsp;19/04/2006,&nbsp;you&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Hey,&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;I've&nbsp;been&nbsp;put&nbsp;in&nbsp;charge&nbsp;of&nbsp;making&nbsp;an&nbsp;Xitami&nbsp;work.&amp;nbsp;&nbsp;It&nbsp;is<br>
running&nbsp;on&nbsp;a&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;virtual&nbsp;machine&nbsp;with&nbsp;a&nbsp;local&nbsp;IP&nbsp;address&nbsp;(192.168.10.2),&nbsp;and<br>
it's&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;mother&nbsp;host&nbsp;is&nbsp;using&nbsp;Apache's&nbsp;mod_proxy&nbsp;to&nbsp;forward&nbsp;requests<br>
from&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;outside&nbsp;to&nbsp;Xitami,&nbsp;then&nbsp;send&nbsp;Xitami's&nbsp;response&nbsp;back&nbsp;to&nbsp;the<br>
world.&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;The&nbsp;problem&nbsp;I'm&nbsp;having&nbsp;is&nbsp;that,&nbsp;in&nbsp;Xitami-generated&nbsp;Location:<br>
headers,&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;it&nbsp;is&nbsp;using&nbsp;it's&nbsp;IP&nbsp;address&nbsp;(192.168.10.2)&nbsp;instead&nbsp;of&nbsp;it's<br>
hostname&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;(fs.example.com).&amp;nbsp;&nbsp;I&nbsp;have&nbsp;set&nbsp;up&nbsp;it's&nbsp;hostname&nbsp;in<br>
xitami.cfg&nbsp;and&nbsp;I&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;have&nbsp;set&nbsp;the&nbsp;computer's&nbsp;hostname&nbsp;to&nbsp;the&nbsp;same.&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;We&nbsp;are&nbsp;not&nbsp;using&nbsp;any&nbsp;sort&nbsp;of&nbsp;virtual&nbsp;hosting&nbsp;and&nbsp;(as&nbsp;far&nbsp;as&nbsp;I<br>
know)&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;the&nbsp;config&nbsp;is&nbsp;pretty&nbsp;much&nbsp;stock.&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;Any&nbsp;help&nbsp;would&nbsp;be&nbsp;much&nbsp;appreciated.&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;David&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;--&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;To&nbsp;unsubscribe:&lt;br&gt;<br>
&amp;gt;<br>
&lt;a&nbsp;href=&quot;http://lists.xitami.org/mailman/listinfo/xitami&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.xitami.org/mailman/listinfo/xitami&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;(c)1996-2006&nbsp;-&nbsp;all&nbsp;communication&nbsp;with&nbsp;this&nbsp;account&nbsp;holder&nbsp;is<br>
regarded&lt;br&gt;<br>
&amp;gt;&nbsp;personal&nbsp;and&nbsp;confidential&nbsp;at&nbsp;all&nbsp;times.&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;MRJ&nbsp;Information&nbsp;Technology&nbsp;Ltd.&nbsp;/&nbsp;35&nbsp;Camden&nbsp;High&nbsp;St.,&nbsp;NW1&nbsp;7JE,<br>
London,&lt;br&gt;<br>
&amp;gt;&nbsp;United&nbsp;Kingdom&lt;br&gt;<br>
&amp;gt;&amp;nbsp;<br>
&lt;a&nbsp;href=&quot;http://www.mrjdesign.net/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://www.mrjdesign.net&lt;/a&gt;&nbsp;or&lt;br&gt;<br>
&amp;gt;<br>
&lt;a&nbsp;href=&quot;http://www.mrjinformationtechnology.net/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://www.mrjinformationtechnology.net&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;nbsp;&nbsp;Please&nbsp;report&nbsp;any&nbsp;abusive&nbsp;messaging&nbsp;through&nbsp;our&nbsp;network,&nbsp;to<br>
the&nbsp;email&lt;br&gt;<br>
&amp;gt;&nbsp;address&nbsp;abuse@mrjdesign.net&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;--&lt;br&gt;<br>
&amp;gt;&nbsp;Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;br&gt;<br>
&amp;gt;&nbsp;To&nbsp;unsubscribe:&lt;br&gt;<br>
&amp;gt;<br>
&lt;a&nbsp;href=&quot;http://lists.xitami.org/mailman/listinfo/xitami&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.xitami.org/mailman/listinfo/xitami&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;br&gt;<br>
To&nbsp;unsubscribe:<br>
&lt;a&nbsp;href=&quot;http://lists.xitami.org/mailman/listinfo/xitami&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://lists.xitami.org/mailman/listinfo/xitami&lt;/a&gt;&lt;/blockquote&gt;<br>
&lt;x-sigsep&gt;&lt;p&gt;&lt;/x-sigsep&gt;<br>
&lt;font&nbsp;size=1&gt;©1996-2006&nbsp;-&nbsp;all&nbsp;communication&nbsp;with&nbsp;this&nbsp;account&nbsp;holder&nbsp;is<br>
regarded&nbsp;personal&nbsp;and&nbsp;confidential&nbsp;at&nbsp;all&nbsp;times.&lt;br&gt;<br>
MRJ&nbsp;Information&nbsp;Technology&nbsp;Ltd.&nbsp;/&nbsp;35&nbsp;Camden&nbsp;High&nbsp;St.,&nbsp;NW1&nbsp;7JE,&nbsp;London,<br>
United&nbsp;Kingdom&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.mrjdesign.net/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://www.mrjdesign.net&lt;/a&gt;&nbsp;or<br>
&lt;a&nbsp;href=&quot;http://www.mrjinformationtechnology.net/&quot;&nbsp;eudora=&quot;autourl&quot;&gt;<br>
http://www.mrjinformationtechnology.net&lt;/a&gt;&nbsp;&lt;br&gt;<br>
Please&nbsp;report&nbsp;any&nbsp;abusive&nbsp;messaging&nbsp;through&nbsp;our&nbsp;network,&nbsp;to&nbsp;the&nbsp;email<br>
address&nbsp;abuse@mrjdesign.net&lt;br&gt;<br>
&lt;/font&gt;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
