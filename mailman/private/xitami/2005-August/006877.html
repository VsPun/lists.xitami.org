<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Xitami] CGI issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20CGI%20issues&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006874.html">
   <LINK REL="Next"  HREF="006878.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xitami] CGI issues</H1>
    <B>RPO</B> 
    <A HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20CGI%20issues&In-Reply-To="
       TITLE="[Xitami] CGI issues">rolinger1 at hotmail.com
       </A><BR>
    <I>Thu Aug 25 20:36:42 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="006874.html">[Xitami] trouble building Xitami 2.5 on Ubuntu Hoary
</A></li>
        <LI>Next message: <A HREF="006878.html">[Xitami] CGI issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6877">[ date ]</a>
              <a href="thread.html#6877">[ thread ]</a>
              <a href="subject.html#6877">[ subject ]</a>
              <a href="author.html#6877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am not certain if my problem is related to my script or to the Xitami CGI settings

##### script
I have written a perl script to upload files via the web.  In order to create a Progress Bar I am bypassing the CGI module in Perl and am process the raw STDIN directly and store it to a temporary file, after this code below I then use perl CGI.pm to parse the contents of that TMP file.  It all works fine however any file over 300k causes the server to return this error: &quot;This server is currently overloaded - please try again later&quot;, here is my perl code that is getting the POST STDIN:

open (TMP,&quot;&gt;$base_dir/postdata$sessionid&quot;) ;
while (read (STDIN ,$LINE, 2048) &amp;&amp; $bRead &lt; $len ) {
 $bRead += length $LINE;
 $size = -s &quot;$base_dir/postdata$sessionid&quot;;

 # slow things down so that the user can actually see the progress bar.
 select(undef, undef, undef,0.35); # sleep for 0.2 of a second.

 $i++;
 print TMP $LINE;
}

##### Xitami CGI settings
Or is this an issue with my CGI settings in Xitami:
    Server Settings:
        Allow Keep-Alive-Connections?   CHECKED, allow up to 25 requests, close after 30 seconds
        Server performance: Normal
    CGI Settings:
        Timeout for CGI programs: 60 seconds
        Check CGI progress every: 200 msecs
        Support 16bit CGI: CHECKED
        Use standard I/O: CHECKED
        Full Environment: CHECKED
       

Anyone have any insights into why this would be occurring?  Is it script parameters or is it Xitami CGI settings?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.imatix.org/pipermail/xitami/attachments/20050825/90286a36/attachment.html">http://lists.imatix.org/pipermail/xitami/attachments/20050825/90286a36/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006874.html">[Xitami] trouble building Xitami 2.5 on Ubuntu Hoary
</A></li>
	<LI>Next message: <A HREF="006878.html">[Xitami] CGI issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6877">[ date ]</a>
              <a href="thread.html#6877">[ thread ]</a>
              <a href="subject.html#6877">[ subject ]</a>
              <a href="author.html#6877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.xitami.org/mailman/listinfo/xitami">More information about the Xitami
mailing list</a><br>
</body></html>
