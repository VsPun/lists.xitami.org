<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Xitami] FTP , data mode not working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:xitami%40lists.xitami.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="006530.html">
   <LINK REL="Next"  HREF="006534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xitami] FTP , data mode not working
   </H1>
    <B>Alex Barna
    </B> 
    <A HREF="mailto:xitami%40lists.xitami.org"
       TITLE="[Xitami] FTP , data mode not working">xitami@lists.xitami.org
       </A><BR>
    <I>Wed, 16 Feb 2005 19:00:47 -0600</I>
    <P><UL>
        <LI> Previous message: <A HREF="006530.html">[Xitami] FTP , data mode not working
</A></li>
        <LI> Next message: <A HREF="006534.html">[Xitami] FTP , data mode not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6532">[ date ]</a>
              <a href="thread.html#6532">[ thread ]</a>
              <a href="subject.html#6532">[ subject ]</a>
              <a href="author.html#6532">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta content=&quot;text/html;charset=ISO-8859-1&quot; http-equiv=&quot;Content-Type&quot;&gt;
  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;
You need the ip address from your ISP.&amp;nbsp; &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://www.whatismyip.com/"">http://www.whatismyip.com/&quot;</A>&gt;<A HREF="http://www.whatismyip.com/</a">http://www.whatismyip.com/&lt;/a</A>&gt;&lt;br&gt;
will tell you that. Have your friend use that ip&amp;nbsp; All you need to tell
xitami is the 8000 offset it will take care of the rest. FTP uses ports
20 &amp;amp; 21 with what ever offset you use. The 200 port you asked about
in your second email must be a typo.&lt;br&gt;
&lt;br&gt;
Goto &lt;a class=&quot;moz-txt-link-freetext&quot; href=&quot;<A HREF="http://lists.xitami.org/pipermail/xitami/2005-February/thread.html"">http://lists.xitami.org/pipermail/xitami/2005-February/thread.html&quot;</A>&gt;<A HREF="http://lists.xitami.org/pipermail/xitami/2005-February/thread.html</a">http://lists.xitami.org/pipermail/xitami/2005-February/thread.html&lt;/a</A>&gt;&lt;br&gt;
&amp;amp; read the thread between me &amp;amp; Johannes Prost for how to setup
xitami for ftp.&lt;br&gt;
&lt;br&gt;
Alex,&lt;br&gt;
&lt;br&gt;
d calif wrote:&lt;br&gt;
&lt;br&gt;
&lt;span style=&quot;white-space: pre;&quot;&gt;&amp;gt; Newbie can't get FTP working * I
have read through the archieves but&lt;br&gt;
&amp;gt;<i> can't see to find a conclusive answer to my problem. Works locally,&lt;br&gt;
</I>&amp;gt;<i> on 2nd computer through router with WAN IP. But remote friend can &lt;br&gt;
</I>&amp;gt;<i> only log in, but NOT see directories/folders/files.&lt;br&gt;
</I>&amp;gt;<i> &lt;br&gt;
</I>&amp;gt;<i> My setup: Xitami: v 2.5c2 Win98se Router: Dlink DI-604 (NAT) DSL /
</I>&lt;br&gt;
&amp;gt;<i> Dynamic IP Base Port: 8000 HTTP Port: 8080 FTP: cmd : 8021 Router &lt;br&gt;
</I>&amp;gt;<i> Firewall open ports: Public 8021=8021 Private Public 8020=8020 &lt;br&gt;
</I>&amp;gt;<i> Private Public 8080=8080 Private&lt;br&gt;
</I>&amp;gt;<i> &lt;br&gt;
</I>&amp;gt;<i> Attempted several things: *every changed was followed by testing &lt;br&gt;
</I>&amp;gt;<i> both local and remote client. Both passive and active. Tried
</I>opening&lt;br&gt;
&amp;gt;<i> up a range of ports starting at 8020. (My friend's FTP client kept&lt;br&gt;
</I>&amp;gt;<i> try ports above 8020, i.e. 8024, 8025, 8023.&lt;br&gt;
</I>&amp;gt;<i> &lt;br&gt;
</I>&amp;gt;<i> ipaddress = &quot;192.168.0.102&quot; (was in the default.cfg) change it to &lt;br&gt;
</I>&amp;gt;<i> ipaddress = &quot;*&quot;&lt;br&gt;
</I>&amp;gt;<i> &lt;br&gt;
</I>&amp;gt;<i> Tried to force the External IP force-ip = &quot;1&quot; passiveip = &quot;main IP
</I>&lt;br&gt;
&amp;gt;<i> address&quot; (then changed it to external IP and tested)&lt;br&gt;
</I>&amp;gt;<i> &lt;br&gt;
</I>&amp;gt;<i> We managed ONE successful remote complete connection. 1st friend
</I>set&lt;br&gt;
&amp;gt;<i> his client: &quot;Force Server IP for PASV mode&quot; friends FTP client had
</I>a&lt;br&gt;
&amp;gt;<i> &quot;NOTE: Useful for servers with NAT/Non-Routable IP&quot; * We couldn't&lt;br&gt;
</I>&amp;gt;<i> get a 2nd complete on connection, because his client kept trying a
</I>&lt;br&gt;
&amp;gt;<i> different data port each time, at the time only Server Firewall
</I>ports&lt;br&gt;
&amp;gt;<i> 8020 and 8021 were open. We ran out of time and couldn't continue &lt;br&gt;
</I>&amp;gt;<i> testing.&lt;br&gt;
</I>&amp;gt;<i> &lt;br&gt;
</I>&amp;gt;<i> One potential problem is the following line in the his client log:
</I>&lt;br&gt;
&amp;gt;<i> friends client log during successful connection, including login, &lt;br&gt;
</I>&amp;gt;<i> seeing directories, and downloaded 10 files. .............. 227 &lt;br&gt;
</I>&amp;gt;<i> Entering Passive Mode (192,168,0,102,38,192) Opening data
</I>connection&lt;br&gt;
&amp;gt;<i> IP: 64.172.148.182 PORT: 9920. LIST -aL 150 Preparing to transfer &lt;br&gt;
</I>&amp;gt;<i> binary file 128 bytes received successfully. (128 B/s) (00:00:01).
</I>&lt;br&gt;
&amp;gt;<i> ............. code 227 shows the local IP, I had removed all IP's &lt;br&gt;
</I>&amp;gt;<i> from the default.cfg. We saw the local IP every time there was a &lt;br&gt;
</I>&amp;gt;<i> connection and login, but again could not see &lt;br&gt;
</I>&amp;gt;<i> directories/folders/files.&lt;/span&gt;&lt;br&gt;
</I>&lt;br&gt;
&lt;/body&gt;
&lt;/html&gt;


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="006530.html">[Xitami] FTP , data mode not working
</A></li>
	<LI> Next message: <A HREF="006534.html">[Xitami] FTP , data mode not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6532">[ date ]</a>
              <a href="thread.html#6532">[ thread ]</a>
              <a href="subject.html#6532">[ subject ]</a>
              <a href="author.html#6532">[ author ]</a>
         </LI>
       </UL>
</body></html>
