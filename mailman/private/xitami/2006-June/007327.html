<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Xitami] Xitami PHP Header Redirect issues...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20Xitami%20PHP%20Header%20Redirect%20issues...&In-Reply-To=44905760.7080800%40webbenabled.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007326.html">
   <LINK REL="Next"  HREF="007328.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xitami] Xitami PHP Header Redirect issues...</H1>
    <B>Ron Ackerman</B> 
    <A HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20Xitami%20PHP%20Header%20Redirect%20issues...&In-Reply-To=44905760.7080800%40webbenabled.com"
       TITLE="[Xitami] Xitami PHP Header Redirect issues...">ronackgen01 at bellsouth.net
       </A><BR>
    <I>Wed Jun 14 23:56:18 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007326.html">[Xitami] Xitami PHP Header Redirect issues...
</A></li>
        <LI>Next message: <A HREF="007328.html">[Xitami] Xitami PHP Header Redirect issues...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7327">[ date ]</a>
              <a href="thread.html#7327">[ thread ]</a>
              <a href="subject.html#7327">[ subject ]</a>
              <a href="author.html#7327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I tried this
 
&lt;?php
header(&quot;Location: HYPERLINK
&quot;<A HREF="http://www.magnuswedberg.com/\\n&quot;http://www.magnuswedberg.com/\n&quot;">http://www.magnuswedberg.com/\\n&quot;http://www.magnuswedberg.com/\n&quot;</A>);
?&gt;
and it worked just fine 
HYPERLINK
&quot;<A HREF="http://www.miplanet.net/old/test2.php&quot;http://www.miplanet.net/old/test2.php">http://www.miplanet.net/old/test2.php&quot;http://www.miplanet.net/old/test2.php</A>
 
Try putting in a php file all by itself and see if it works, if you have it
with other stuff it might be elsewhere in your code. 
 
 
What version of PHP are you using and is this on the linux or win box or
both. Can we see your php.ini? Can you do a phpinfo();
 
Ron

   _____  

From: <A HREF="http://lists.xitami.org/mailman/listinfo/xitami">xitami-bounces at lists.xitami.org</A>
[mailto:<A HREF="http://lists.xitami.org/mailman/listinfo/xitami">xitami-bounces at lists.xitami.org</A>] On Behalf Of Webb, Paul
Sent: Wednesday, June 14, 2006 2:37 PM
To: Xitami Users General Discussion
Subject: Re: [Xitami] Xitami PHP Header Redirect issues...


Magnus Wedberg wrote: 

Um, just a stupid question, but you aren't sending anything else to 

the client before are you? The redirect needs to be received by the 

client exclusively or it won't work. In your situation I would telnet 

to the server, GET the page, and see what response there is.



  

Nope. I even plugged in your header line just to be sure that it wasn't me
being stupid. Here's the content of the current index.php file:

&lt;?php
    error_reporting(E_ALL);
    ini_set('display_errors', true);
    header(&quot;Location: HYPERLINK
&quot;<A HREF="http://www.magnuswedberg.com/&quot;http://www.magnuswedberg.com/&quot;">http://www.magnuswedberg.com/&quot;http://www.magnuswedberg.com/&quot;</A>);
?&gt;

The first two lines are me trying to get something, anything out of PHP to
indicate that something could be wrong on it's end. I still see nothing.

Additionally, I've been looking at what is displayed in the access logs.
Here's what I get when I request index.php:

10.0.143.51 - - [14/Jun/2006:13:59:01 -0500] &quot;GET / HTTP/1.1&quot; 200 0 &quot;&quot; &quot;&quot;
10.0.143.51 - - [14/Jun/2006:13:59:04 -0500] &quot;GET / HTTP/1.1&quot; 200 0 &quot;&quot; &quot;&quot;
10.0.143.51 - - [14/Jun/2006:13:59:06 -0500] &quot;GET / HTTP/1.1&quot; 200 0 &quot;&quot; &quot;&quot;
10.0.143.51 - - [14/Jun/2006:14:00:19 -0500] &quot;GET / HTTP/1.1&quot; 200 0 &quot;&quot; &quot;&quot;
10.0.143.51 - - [14/Jun/2006:14:01:26 -0500] &quot;GET / HTTP/1.1&quot; 200 0 &quot;&quot; &quot;&quot;
10.0.143.51 - - [14/Jun/2006:14:04:56 -0500] &quot;GET / HTTP/1.1&quot; 200 0 &quot;&quot; &quot;&quot;

Note the 0 byte-count that is returned, and the fact that there's nothing in
the referrer section at the end. Here's a normal one from the same log file:

10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] &quot;GET /admin HTTP/1.1&quot; 200
4130 &quot;&quot; &quot;&quot;
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] &quot;GET /admin/$left.gif
HTTP/1.1&quot; 200 179 HYPERLINK
&quot;<A HREF="http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;">http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;</A> &quot;&quot;
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] &quot;GET /admin/$help.gif
HTTP/1.1&quot; 200 213 HYPERLINK
&quot;<A HREF="http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;">http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;</A> &quot;&quot;
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] &quot;GET /admin/$right.gif
HTTP/1.1&quot; 200 182 HYPERLINK
&quot;<A HREF="http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;">http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;</A> &quot;&quot;
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] &quot;GET /admin/$console.gif
HTTP/1.1&quot; 200 281 HYPERLINK
&quot;<A HREF="http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;">http://10.0.143.253/admin&quot;&quot;http://10.0.143.253/admin&quot;</A> &quot;&quot;

What I'm seeing from here is that nothing is being passed back from PHP to
Xitami to tell it where to redirect to. The question is, why not?

And just for kicks, here's the first few lines of my php.ini file:

[PHP]
   allow_call_time_pass_reference    = On
   allow_url_fopen            = On
   asp_tags                = Off
   auto_append_file            = 
   auto_prepend_file            = 
   cgi.force_redirect            = 0
   default_mimetype            = &quot;text/html&quot;
   default_socket_timeout        = 60
   disable_functions            = 
   disable_classes            = 
   display_errors            = On

Very, very confusing.... If you'd like, take a look yourself. You can get to
the test server at HYPERLINK
&quot;<A HREF="http://www.journalcommunity.com:8084&quot;http://www.journalcommunity.com:8084,">http://www.journalcommunity.com:8084&quot;http://www.journalcommunity.com:8084,</A>
and index.php is the default page.

Thanks!

-- 
Paul Webb
WebbEnabled Solutions, LLC (HYPERLINK
&quot;<A HREF="http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf&quot;vCard">http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf&quot;vCard</A>)
HYPERLINK &quot;mailto:<A HREF="http://lists.xitami.org/mailman/listinfo/xitami">pwebb at webbenabled.com</A>&quot;<A HREF="http://lists.xitami.org/mailman/listinfo/xitami">pwebb at webbenabled.com</A> (PGP/GPG
Encryption Capable)
HYPERLINK &quot;<A HREF="http://www.webbenabled.com&quot;http://www.webbenabled.com">http://www.webbenabled.com&quot;http://www.webbenabled.com</A> 


--
No virus found in this incoming message.
Checked by AVG Free Edition.
Version: 7.1.394 / Virus Database: 268.8.4/363 - Release Date: 6/13/2006



-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.394 / Virus Database: 268.8.4/363 - Release Date: 6/13/2006
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.imatix.org/pipermail/xitami/attachments/20060614/db2cd748/attachment.htm">http://lists.imatix.org/pipermail/xitami/attachments/20060614/db2cd748/attachment.htm</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007326.html">[Xitami] Xitami PHP Header Redirect issues...
</A></li>
	<LI>Next message: <A HREF="007328.html">[Xitami] Xitami PHP Header Redirect issues...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7327">[ date ]</a>
              <a href="thread.html#7327">[ thread ]</a>
              <a href="subject.html#7327">[ subject ]</a>
              <a href="author.html#7327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.xitami.org/mailman/listinfo/xitami">More information about the Xitami
mailing list</a><br>
</body></html>
