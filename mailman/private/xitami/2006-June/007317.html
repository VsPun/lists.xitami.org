<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Xitami] Xitami PHP Header Redirect issues...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20Xitami%20PHP%20Header%20Redirect%20issues...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007316.html">
   <LINK REL="Next"  HREF="007318.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xitami] Xitami PHP Header Redirect issues...</H1>
    <B>Webb, Paul</B> 
    <A HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20Xitami%20PHP%20Header%20Redirect%20issues...&In-Reply-To="
       TITLE="[Xitami] Xitami PHP Header Redirect issues...">pwebb at webbenabled.com
       </A><BR>
    <I>Tue Jun 13 19:47:22 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007316.html">[Xitami] Data Migration
</A></li>
        <LI>Next message: <A HREF="007318.html">[Xitami] Xitami PHP Header Redirect issues...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7317">[ date ]</a>
              <a href="thread.html#7317">[ thread ]</a>
              <a href="subject.html#7317">[ subject ]</a>
              <a href="author.html#7317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
    I've searched through the archives for this problem as much as
possible, and I've googled around looking for a solution. I can't find
one, but if I'm missing something, feel free to point me at the archive
where it's addressed, beat me senseless, and tell me to go RTFM... :-)

    I'm considering a switch from that &quot;Patchy&quot; HTTP server to something
else. IIS is completely out of the realm of possibility, and I've picked
up Xitami and I'm trying it out. For a reference point on my level of
skill here, I have Xitami successfully running on both a Windows machine
and I've also compiled it on my Linux machine without significant issues
(though &quot;c&quot; and &quot;boomake&quot; did momentarily throw me for a loop, I'll
admit. But I found an article on that and got it online).

(In other words, I'm no slouch as a network administrator in both the
Linux and Windows realms, and I've set up multiple HTTP servers and
domains over the past 10 years. If this is a case of being incompetent,
I'll be surprised.)

So, here's what I've done so far: I've set up Xitami v2.5b6 on both
Windows and Linux machines. The machine in question here is the Windows
one.

(I'd try it on the linux box, but it requires a reconfig of PHP and
well, production sites are running on it at the moment, so.... :-))

    I got the default Xitami page to load up.
    I then set up a virtual host pointing to my PHP based main website.
I set up the PHP filter and the page loaded up without incident.
    I set up my remaining, ancillary PHP websites as new virtual hosts.
    Once that was done without incident, I attempted to sign in to one
of the PHP sites that requires a login. That... doesn't... work...

So, here's what I have:

   1. I have a form on the main page of the site.
   2. Users type in their alias and password and hit &quot;login&quot; which
      submits the user's information via POST to a PHP script called
      &quot;login.php&quot;.
   3. The information gets there, the user's information is validated
      (which I can see in MySQL's logs).
   4. Once login.php does its job, the last thing it's supposed to do is
      redirect the user via a Header Redirect back to the main page
      after setting some session variables. This is where the train is
      derailed, so to speak. The header redirect doesn't work.

So, from there I started doing some debugging to find the problem. I
created two files.

    One is a straight HTML file called &quot;success.html&quot;. Its content is:

        &quot;Good News, the redirect was successful!&quot;

    And the second file is called &quot;index.php&quot;. It's content is:

        &lt; ? php (spaces removed -- I'm not sure what the mailer daemon
        uses here and don't want to interfere if it's PHP)
           Header(&quot;Location: <A HREF="http://mydomain.com/success.html&quot;">http://mydomain.com/success.html&quot;</A>);
           Echo &quot;Bad News... It Failed.&quot; . chr(13);
        ? &gt;

    Every time I visit, no matter what I change, I get &quot;Bad News... It
Failed.&quot; I've tried multiple settings, and I restart Xitami's services
every time.

Any ideas? Why is the Header redirect not being honored, either by
Xitami or by the client browser? Note that the sites are running
successfully under that &quot;Patchy&quot; web server...

Oh, and before I forget... debug is on, and I'm seeing nothing in the
logs to tell me that anything is wrong.

Thanks (in advance) for your help!
(Please don't mind me while I bang my head against a wall over here.)
-- 
Paul Webb
WebbEnabled Solutions, LLC (vCard
&lt;<A HREF="http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf">http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf</A>&gt;)
&lt;mailto:<A HREF="http://lists.xitami.org/mailman/listinfo/xitami">pwebb at webbenabled.com</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.imatix.org/pipermail/xitami/attachments/20060613/369bc6c3/attachment.html">http://lists.imatix.org/pipermail/xitami/attachments/20060613/369bc6c3/attachment.html</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007316.html">[Xitami] Data Migration
</A></li>
	<LI>Next message: <A HREF="007318.html">[Xitami] Xitami PHP Header Redirect issues...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7317">[ date ]</a>
              <a href="thread.html#7317">[ thread ]</a>
              <a href="subject.html#7317">[ subject ]</a>
              <a href="author.html#7317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.xitami.org/mailman/listinfo/xitami">More information about the Xitami
mailing list</a><br>
</body></html>
