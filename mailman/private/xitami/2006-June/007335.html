<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Xitami] Disuccsion: Xitami load testing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20Disuccsion%3A%20Xitami%20load%20testing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007334.html">
   <LINK REL="Next"  HREF="007336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xitami] Disuccsion: Xitami load testing</H1>
    <B>RPO</B> 
    <A HREF="mailto:xitami%40lists.xitami.org?Subject=%5BXitami%5D%20Disuccsion%3A%20Xitami%20load%20testing&In-Reply-To="
       TITLE="[Xitami] Disuccsion: Xitami load testing">rolinger1 at hotmail.com
       </A><BR>
    <I>Fri Jun 23 06:11:35 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="007334.html">[Xitami] Disuccsion: Xitami load testing
</A></li>
        <LI>Next message: <A HREF="007336.html">[Xitami] Unsolicited HTTP GET requests in access.log 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7335">[ date ]</a>
              <a href="thread.html#7335">[ thread ]</a>
              <a href="subject.html#7335">[ subject ]</a>
              <a href="author.html#7335">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gene,

Awesome info and commentary.  Your bandwidth utilization will blow mine away
for quite sometime...I anticipate up to about 100gig per month of served
content for a while.  Is all this running on one physical server or do you
have this spread out over a cluster of servers?  How much bandwidth do you
think your Xitami serves up vs the Apache?  How many hits are taking a month
on the Xitami server...I imagine my hits will far exceed my bandwidth.  The
content served is roughly 15-25k per page, so to push 100Gig a month means
my server will be serving up 10s of thousands of pages per month, or 10s of
thousands hits.

As far as Xitami's call to perl.  I have heard of what you mentioned, each
new script spawns another instance of perl, sucking up memory in the
process.  As oppossed to Apache which runs one instance of perl.   Are there
any Xitami settings I need be aware that would optimize my servers
performance?  I already have my Win2K server pretty locked down as far as
running needless services.  But I will go through and see if I can't tighten
it down anymore.  Is it possible to turn off 8 character file naming in
Win2K - where do I do that at?

Great feedback, thanks again.

Russel

PS: Anyone else have stuff to share?

----- Original Message ----- 
From: &quot;WhiteShepherd&quot; &lt;<A HREF="http://lists.xitami.org/mailman/listinfo/xitami">fuzzydog at whiteshepherd.net</A>&gt;
To: &quot;Xitami Users General Discussion&quot; &lt;<A HREF="http://lists.xitami.org/mailman/listinfo/xitami">xitami at lists.xitami.org</A>&gt;
Sent: Thursday, June 22, 2006 4:06 PM
Subject: Re: [Xitami] Disuccsion: Xitami load testing


&gt;<i> I have used Xitami for 6 years now in a production environment.
</I>&gt;<i> Currently I run Apache2 and Xitami 2.4d9 (the most stable version for me
</I>&gt;<i> so far) on a win23k server.  There are advantages and disadvantages to
</I>&gt;<i> both.  But both serve my needs.  I push in average around 800-1000gigs
</I>&gt;<i> upstream a month in hits (that's a LOT).  The reason I run both servers
</I>&gt;<i> is they are both efficient in their own respects.  Reasons for Apache:
</I>&gt;<i> Currently I host over 1600+ websites each with their own domains.  On
</I>&gt;<i> volumes such as this Apache's virtual host is MUCH more efficient than
</I>&gt;<i> MIS or Xitami.  What Apache does is rather than having a hosting config
</I>&gt;<i> and restart for each host.  It compares the incoming domain name to a
</I>&gt;<i> directory in a specified path.  Ie www.isme.com coming in on the correct
</I>&gt;<i> IP routes to c:\html\hosts\isme\  or c:\html\hosts\isme.com\   depending
</I>&gt;<i> on how you check the domain.  This allows you to add hosts without a
</I>&gt;<i> server restart (though it will take some study to get everything the way
</I>&gt;<i> you want it) and saves on performance/memory.
</I>&gt;<i>
</I>&gt;<i> I run Xitami for performance on key applications.  Particularily Xitami
</I>&gt;<i> seems to execute perl scripts faster than Apache but at a cost of heavy
</I>&gt;<i> memory per call to a perl script (each perl request goes to a perl.exe
</I>&gt;<i> instead of command requests being chained to 1 interpreter).  I run
</I>&gt;<i> Xitami in turbo mode (for my forums).  My sites main forums (a perl
</I>&gt;<i> Ikonboard) run off of Xitami.  I also have Xitami serving subdomains
</I>&gt;<i> that get massive hits.   For example when Apache hosts a file it does a
</I>&gt;<i> lot more file IO (checking) that can use up CPU resources.  Xitami on
</I>&gt;<i> the other hand just serves the file and is much more efficient.  My main
</I>&gt;<i> page rotates a art gallery so for efficiency I have Xitami host that
</I>&gt;<i> subdomain that those images link too.  Hundreds of static hits flood
</I>&gt;<i> into to that domain which Xitami can more efficiently serve.
</I>&gt;<i>
</I>&gt;<i> When you get into volume hosting it's all about efficiency and
</I>&gt;<i> everything you can do to improve it.  Myself I ran win2k for 2 years.
</I>&gt;<i> It proved very stable but the performance of win2k3 is better.  Some
</I>&gt;<i> tips turn on EVERY windows service you are not using (why give CPU and
</I>&gt;<i> memory to something just sitting around?).  There are lots of tips on
</I>&gt;<i> the web for this.  Turn off 8 character file name creation on long file
</I>&gt;<i> names!  This will cut down a LOT of IO and avoid hands on dirs with
</I>&gt;<i> thousands of files/directories.  From personal experience Xitami and
</I>&gt;<i> Apache seem to run better as a console than a service under heavy load.
</I>&gt;<i> I have batch files to loop them on restart.
</I>&gt;<i>
</I>&gt;<i> If you start just running only Xitami (I started this way).  Then for
</I>&gt;<i> efficiency I would just have 1 copy of Xitami running and have Xitami
</I>&gt;<i> host the two domains to their respective directories.
</I>&gt;<i>
</I>&gt;<i>   Gene
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> rpo wrote:
</I>&gt;<i> &gt; Hello all -
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am running standard version 2.4d9 - it seems to be very stable for me
</I>and
&gt;<i> &gt; I have very little to no crashes with this version over the last several
</I>&gt;<i> &gt; years.  However, I will be starting up a business soon that potentially
</I>&gt;<i> &gt; could have thousands of hits a day, and hundreds of Megabits, if not a
</I>few
&gt;<i> &gt; gigabits, of traffic per day.  There will only be two domains on the
</I>server,
&gt;<i> &gt; each domain will be bound to its own IP address and each IP address will
</I>&gt;<i> &gt; have its own copy of Xitami running on it.  Each Xitami won't have any
</I>&gt;<i> &gt; virtual domains attached to it.  I am interested in knowning others
</I>&gt;<i> &gt; experiences with load issues, connection issues, etc etc. with Xitami?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Where can I expect problems?  How far can Xitami be pushed before it
</I>boggles
&gt;<i> &gt; down, slows to a crawl or utlimately crashes?  What areas of the Xitami
</I>&gt;<i> &gt; config - or even on Win2K Adv Server - can I optimize to get the most
</I>out of
&gt;<i> &gt; this server?  To handle the most load?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a pretty robust physical server:
</I>&gt;<i> &gt;     Pentium 4, 2.8Ghz
</I>&gt;<i> &gt;     4 gig of DDR2 5300 memory (800mhz)
</I>&gt;<i> &gt;     800Gig harddrive storage mirrored (so 800Gb/800Gb)
</I>&gt;<i> &gt;     SCSI controller
</I>&gt;<i> &gt;     Seperate OS hard drive
</I>&gt;<i> &gt;     Dual Gigbit NIC cards bound together sharing same IP address
</I>&gt;<i> &gt;     Win2K Advanced Server
</I>&gt;<i> &gt;     Xitami v2.4d9
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hopefully this starts up some good dialogue and we can all begin to get
</I>a
&gt;<i> &gt; perspective on Xitami's performance levels.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -Russel
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Xitami Users Mailing List -- For Xitami support
</I>&gt;<i> &gt; To unsubscribe: <A HREF="http://lists.xitami.org/mailman/listinfo/xitami">http://lists.xitami.org/mailman/listinfo/xitami</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Xitami Users Mailing List -- For Xitami support
</I>&gt;<i> To unsubscribe: <A HREF="http://lists.xitami.org/mailman/listinfo/xitami">http://lists.xitami.org/mailman/listinfo/xitami</A>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007334.html">[Xitami] Disuccsion: Xitami load testing
</A></li>
	<LI>Next message: <A HREF="007336.html">[Xitami] Unsolicited HTTP GET requests in access.log 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7335">[ date ]</a>
              <a href="thread.html#7335">[ thread ]</a>
              <a href="subject.html#7335">[ subject ]</a>
              <a href="author.html#7335">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.xitami.org/mailman/listinfo/xitami">More information about the Xitami
mailing list</a><br>
</body></html>
