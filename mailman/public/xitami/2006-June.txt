From navynutt2000 at yahoo.ca  Fri Jun  2 00:46:06 2006
From: navynutt2000 at yahoo.ca (navy nut)
Date: Fri Jun  2 00:46:11 2006
Subject: [Xitami] Data Migration
Message-ID: <20060601224606.4719.qmail@web60812.mail.yahoo.com>

Hello,
   
  I keep Xitami installed to it's own physical hard-disk, along with all web content (for all domains), applications, etc... (most anything pertaining to the functionality of Xitami).
   
  I recently picked up a newer, faster, larger hard-drive that I plan to use for this purpose instead... and had originally planned to just (drag and drop) copy the entire file-system from one drive to the other.
   
  It later occurred to me however, that if I do this, I'm going to over-write all the original time and date stamps... which I'd really like to preserve, if possible. 
   
  Without "cloning" the drive, does anyone know of a fast and easy way that I can achieve this in WinXP?
   
  Any suggestions would be very much appreciated, thank you.
   
  Rod

		
---------------------------------
The best gets better. See why everyone is raving about the All-new Yahoo! Mail.  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060601/d198be1b/attachment.htm
From francis.turner at gmail.com  Fri Jun  2 17:22:48 2006
From: francis.turner at gmail.com (Francis Turner)
Date: Fri Jun  2 17:22:54 2006
Subject: [Xitami] Data Migration
In-Reply-To: <20060601224606.4719.qmail@web60812.mail.yahoo.com>
References: <20060601224606.4719.qmail@web60812.mail.yahoo.com>
Message-ID: <f83609d50606020822q6e754979j665cff114a0fe386@mail.gmail.com>

standard drag/drop copying should not alter the date/time stamps - it
doesn't for me anyway

On 6/2/06, navy nut <navynutt2000@yahoo.ca> wrote:
>
> Hello,
>
> I keep Xitami installed to it's own physical hard-disk, along with all web
> content (for all domains), applications, etc... (most anything pertaining to
> the functionality of Xitami).
>
> I recently picked up a newer, faster, larger hard-drive that I plan to use
> for this purpose instead... and had originally planned to just (drag and
> drop) copy the entire file-system from one drive to the other.
>
> It later occurred to me however, that if I do this, I'm going to over-write
> all the original time and date stamps... which I'd really like to preserve,
> if possible.
>
> Without "cloning" the drive, does anyone know of a fast and easy way that I
> can achieve this in WinXP?
>
> Any suggestions would be very much appreciated, thank you.
>
> Rod
>
>
>  ________________________________
> The best gets better. See why everyone is raving about the All-new Yahoo!
> Mail.
>
>
>
> --
> Xitami Users Mailing List -- For Xitami support
> To unsubscribe:
> http://lists.xitami.org/mailman/listinfo/xitami
>
>


-- 
http://www.di2.nu/blog.htm
Faber's Fourth Law:
  Necessity is the mother of strange bedfellows.

From navynutt2000 at yahoo.ca  Fri Jun  2 19:00:09 2006
From: navynutt2000 at yahoo.ca (navy nut)
Date: Fri Jun  2 19:00:15 2006
Subject: [Xitami] Data Migration
In-Reply-To: <f83609d50606020822q6e754979j665cff114a0fe386@mail.gmail.com>
Message-ID: <20060602170009.99986.qmail@web60818.mail.yahoo.com>

Thanks for the reply Francis!
   
  I guess I really should have specified "date and time stamp" as it applies to folders.
   
  The files themselves, appear to copy as one would expect.  The folders however (at least on my equipment), appear to take on the date and time that the copy occurred.
   
  Much of my web-content is accessible through custom directory lists only... so it's my effort to preserve the order in which this content is sorted and displayed in the viewer's browser.  Links written as [ /directory/?order=Tnx ] for example, will currently force the most recent content to the top of the page.
   
  Dragging and dropping is going to scramble this sorting system royally, unless a method of preserving the (folder) date-stamps is determined.
   
  Thanks again.
   
  Rod
   
  
Francis Turner <francis.turner@gmail.com> wrote:
  standard drag/drop copying should not alter the date/time stamps - it
doesn't for me anyway




 __________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060602/6fc30b71/attachment.html
From francis.turner at gmail.com  Fri Jun  2 23:48:27 2006
From: francis.turner at gmail.com (Francis Turner)
Date: Fri Jun  2 23:48:32 2006
Subject: [Xitami] Data Migration
In-Reply-To: <20060602170009.99986.qmail@web60818.mail.yahoo.com>
References: <f83609d50606020822q6e754979j665cff114a0fe386@mail.gmail.com>
	<20060602170009.99986.qmail@web60818.mail.yahoo.com>
Message-ID: <f83609d50606021448j387bcb83ie8182be8bf7a2c6d@mail.gmail.com>

Ahhh .. I think you will find it easier to copy the folders adn then
use a utility like the gnu "touch" one to modify the directory dates.
If touch -t date doesn't work for directories (I forget) then it looks
like http://www.gold-software.com/download1598.html should

Francis

On 6/2/06, navy nut <navynutt2000@yahoo.ca> wrote:
>
> Thanks for the reply Francis!
>
> I guess I really should have specified "date and time stamp" as it applies
> to folders.
>
> The files themselves, appear to copy as one would expect.  The folders
> however (at least on my equipment), appear to take on the date and time that
> the copy occurred.
>
> Much of my web-content is accessible through custom directory lists only...
> so it's my effort to preserve the order in which this content is sorted and
> displayed in the viewer's browser.  Links written as [ /directory/?order=Tnx
> ] for example, will currently force the most recent content to the top of
> the page.
>
> Dragging and dropping is going to scramble this sorting system royally,
> unless a method of preserving the (folder) date-stamps is determined.
>
> Thanks again.
>
> Rod
>
>
>
> Francis Turner <francis.turner@gmail.com> wrote:
> standard drag/drop copying should not alter the date/time stamps - it
> doesn't for me anyway
>
>
>
>
>
>  __________________________________________________
> Do You Yahoo!?
> Tired of spam? Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> --
> Xitami Users Mailing List -- For Xitami support
> To unsubscribe:
> http://lists.xitami.org/mailman/listinfo/xitami
>
>


-- 
http://www.di2.nu/blog.htm
Faber's Fourth Law:
  Necessity is the mother of strange bedfellows.

From jphamblin at qtools.com  Sat Jun  3 00:01:40 2006
From: jphamblin at qtools.com (Jeff Hamblin)
Date: Sat Jun  3 00:01:43 2006
Subject: [Xitami] Data Migration
References: <20060602170009.99986.qmail@web60818.mail.yahoo.com>
Message-ID: <002b01c68690$24138730$6600a8c0@neo64>

>  I guess I really should have specified "date and time stamp"
> as it applies to folders.
> The files themselves, appear to copy as one would expect.
> The folders however (at least on my equipment), appear to take
> on the date and time that the copy occurred.

The Windows 2000 Resource kit includes a great utility
named "Robocopy". Not only is it great for mirroring data,
it preserves timestamps on directories.

Here's the help from the command line:


ROBOCOPY v 1.96  :  Robust File Copy for Windows NT
----------------------------------------------------------------------


              Usage : ROBOCOPY source destination [file [file]...] [options]

             source : Source Directory (drive:\path or \\server\share\path).
        destination : Destination Dir  (drive:\path or \\server\share\path).
               file : File(s) to copy  (names/wildcards: default is "*.*").

Copy options:    /S : copy Subdirectories, but not empty ones.
                 /E : copy subdirectories, including Empty ones.
             /LEV:n : only copy the top n LEVels of the source directory 
tree.

                 /Z : copy files in restartable mode.

               /SEC : copy SECurity info (both source and dest must be 
NTFS).
            /SECFIX : FIX SECurity info on existing files and dirs.
            /TIMFIX : FIX TIMestamps on existing destination files.

               /MOV : MOVe files (delete from source after copying).
              /MOVE : MOVE files AND dirs (delete from source after 
copying).

             /PURGE : delete dest files/dirs that no longer exist in source.
               /MIR : MIRror a directory tree (equivalent to /E plus 
/PURGE).

   /A+:[R][A][S][H] : add the given Attributes to copied files.
   /A-:[R][A][S][H] : remove the given Attributes from copied files.

            /CREATE : CREATE directory tree structure + zero-length files 
only.
               /FAT : create destination files using 8.3 FAT file names 
only.

File Selection:  /A : copy only files with the Archive attribute set
                 /M : like /A, but remove Archive attribute from source 
files.
   /IA:[R][A][S][H] : Include only files with some of the given Attributes 
set.
   /XA:[R][A][S][H] : eXclude files with any of the given Attributes set.

 /XF file [file]... : eXclude Files matching given names/paths/wildcards.
 /XD dirs [dirs]... : eXclude Directories matching given names/paths.

    /XC | /XN | /XO : eXclude Changed | Newer | Older files.
          /XX | /XL : eXclude eXtra | Lonely files and dirs.
                /IS : Include Same files.

             /MAX:n : MAXimum file size - exclude files bigger than n bytes.
             /MIN:n : MINimum file size - exclude files smaller than n 
bytes.

          /MAXAGE:n : MAXimum file AGE - exclude files older than n 
days/date.
          /MINAGE:n : MINimum file AGE - exclude files newer than n 
days/date.
                      (If n < 1900 then n = n days, else n = YYYYMMDD date).

Retry Options: /R:n : number of Retries on failed copies: default is 1 
million.
               /W:n : Wait time between retries: default is 30 seconds.

               /REG : Save /R:n and /W:n in the Registry as default 
settings.

               /TBD : wait for sharenames To Be Defined (retry error 67).

Logging Options: /L : List only - don't copy, timestamp or delete any files.
                 /X : report all eXtra files, not just those selected.
                 /V : produce Verbose output, showing skipped files.

                /NP : No Progress - don't display % copied.
               /ETA : show Estimated Time of Arrival of copied files.

          /LOG:file : output status to LOG file (overwrite existing log).
         /LOG+:file : output status to LOG file (append to existing log). 

From pwebb at webbenabled.com  Tue Jun 13 19:47:22 2006
From: pwebb at webbenabled.com (Webb, Paul)
Date: Tue Jun 13 19:47:29 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
Message-ID: <448EFA2A.6090901@webbenabled.com>

Hi all,
    I've searched through the archives for this problem as much as
possible, and I've googled around looking for a solution. I can't find
one, but if I'm missing something, feel free to point me at the archive
where it's addressed, beat me senseless, and tell me to go RTFM... :-)

    I'm considering a switch from that "Patchy" HTTP server to something
else. IIS is completely out of the realm of possibility, and I've picked
up Xitami and I'm trying it out. For a reference point on my level of
skill here, I have Xitami successfully running on both a Windows machine
and I've also compiled it on my Linux machine without significant issues
(though "c" and "boomake" did momentarily throw me for a loop, I'll
admit. But I found an article on that and got it online).

(In other words, I'm no slouch as a network administrator in both the
Linux and Windows realms, and I've set up multiple HTTP servers and
domains over the past 10 years. If this is a case of being incompetent,
I'll be surprised.)

So, here's what I've done so far: I've set up Xitami v2.5b6 on both
Windows and Linux machines. The machine in question here is the Windows
one.

(I'd try it on the linux box, but it requires a reconfig of PHP and
well, production sites are running on it at the moment, so.... :-))

    I got the default Xitami page to load up.
    I then set up a virtual host pointing to my PHP based main website.
I set up the PHP filter and the page loaded up without incident.
    I set up my remaining, ancillary PHP websites as new virtual hosts.
    Once that was done without incident, I attempted to sign in to one
of the PHP sites that requires a login. That... doesn't... work...

So, here's what I have:

   1. I have a form on the main page of the site.
   2. Users type in their alias and password and hit "login" which
      submits the user's information via POST to a PHP script called
      "login.php".
   3. The information gets there, the user's information is validated
      (which I can see in MySQL's logs).
   4. Once login.php does its job, the last thing it's supposed to do is
      redirect the user via a Header Redirect back to the main page
      after setting some session variables. This is where the train is
      derailed, so to speak. The header redirect doesn't work.

So, from there I started doing some debugging to find the problem. I
created two files.

    One is a straight HTML file called "success.html". Its content is:

        "Good News, the redirect was successful!"

    And the second file is called "index.php". It's content is:

        < ? php (spaces removed -- I'm not sure what the mailer daemon
        uses here and don't want to interfere if it's PHP)
           Header("Location: http://mydomain.com/success.html");
           Echo "Bad News... It Failed." . chr(13);
        ? >

    Every time I visit, no matter what I change, I get "Bad News... It
Failed." I've tried multiple settings, and I restart Xitami's services
every time.

Any ideas? Why is the Header redirect not being honored, either by
Xitami or by the client browser? Note that the sites are running
successfully under that "Patchy" web server...

Oh, and before I forget... debug is on, and I'm seeing nothing in the
logs to tell me that anything is wrong.

Thanks (in advance) for your help!
(Please don't mind me while I bang my head against a wall over here.)
-- 
Paul Webb
WebbEnabled Solutions, LLC (vCard
<http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
<mailto:pwebb@webbenabled.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060613/369bc6c3/attachment.html
From xitami at pastryworld.ca  Tue Jun 13 20:13:31 2006
From: xitami at pastryworld.ca (Johannes Prost)
Date: Tue Jun 13 20:15:02 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <448EFA2A.6090901@webbenabled.com>
Message-ID: <448EABEB.9484.1042DE4@localhost>

Hi Paul,

I am not a php guy, but I know that the following setting in the php.ini has to be set as

cgi.force_redirect = 0
 otherwise you will have problems with php's redirect to pages. That's the only thing I know to 
look for.

Johannes

> Hi all,
>     I've searched through the archives for this problem as much as
> possible, and I've googled around looking for a solution. I can't find
> one, but if I'm missing something, feel free to point me at the archive
> where it's addressed, beat me senseless, and tell me to go RTFM... :-)
> 
>     I'm considering a switch from that "Patchy" HTTP server to something
> else. IIS is completely out of the realm of possibility, and I've picked
> up Xitami and I'm trying it out. For a reference point on my level of
> skill here, I have Xitami successfully running on both a Windows machine
> and I've also compiled it on my Linux machine without significant issues
> (though "c" and "boomake" did momentarily throw me for a loop, I'll
> admit. But I found an article on that and got it online).
> 
> (In other words, I'm no slouch as a network administrator in both the
> Linux and Windows realms, and I've set up multiple HTTP servers and
> domains over the past 10 years. If this is a case of being incompetent,
> I'll be surprised.)
> 
> So, here's what I've done so far: I've set up Xitami v2.5b6 on both
> Windows and Linux machines. The machine in question here is the Windows
> one.
> 
> (I'd try it on the linux box, but it requires a reconfig of PHP and
> well, production sites are running on it at the moment, so.... :-))
> 
>     I got the default Xitami page to load up.
>     I then set up a virtual host pointing to my PHP based main website.
> I set up the PHP filter and the page loaded up without incident.
>     I set up my remaining, ancillary PHP websites as new virtual hosts.
>     Once that was done without incident, I attempted to sign in to one
> of the PHP sites that requires a login. That... doesn't... work...
> 
> So, here's what I have:
> 
>    1. I have a form on the main page of the site.
>    2. Users type in their alias and password and hit "login" which
>       submits the user's information via POST to a PHP script called
>       "login.php".
>    3. The information gets there, the user's information is validated
>       (which I can see in MySQL's logs).
>    4. Once login.php does its job, the last thing it's supposed to do is
>       redirect the user via a Header Redirect back to the main page
>       after setting some session variables. This is where the train is
>       derailed, so to speak. The header redirect doesn't work.
> 
> So, from there I started doing some debugging to find the problem. I
> created two files.
> 
>     One is a straight HTML file called "success.html". Its content is:
> 
>         "Good News, the redirect was successful!"
> 
>     And the second file is called "index.php". It's content is:
> 
>         < ? php (spaces removed -- I'm not sure what the mailer daemon
>         uses here and don't want to interfere if it's PHP)
>            Header("Location: http://mydomain.com/success.html");
>            Echo "Bad News... It Failed." . chr(13);
>         ? >
> 
>     Every time I visit, no matter what I change, I get "Bad News... It
> Failed." I've tried multiple settings, and I restart Xitami's services
> every time.
> 
> Any ideas? Why is the Header redirect not being honored, either by
> Xitami or by the client browser? Note that the sites are running
> successfully under that "Patchy" web server...
> 
> Oh, and before I forget... debug is on, and I'm seeing nothing in the
> logs to tell me that anything is wrong.
> 
> Thanks (in advance) for your help!
> (Please don't mind me while I bang my head against a wall over here.)
> -- 
> Paul Webb
> WebbEnabled Solutions, LLC (vCard
> <http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
> <mailto:pwebb@webbenabled.com>
> 

Johannes



From pwebb at webbenabled.com  Tue Jun 13 20:23:20 2006
From: pwebb at webbenabled.com (Webb, Paul)
Date: Tue Jun 13 20:23:33 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <448EABEB.9484.1042DE4@localhost>
References: <448EABEB.9484.1042DE4@localhost>
Message-ID: <448F0298.6060802@webbenabled.com>

Johannes Prost wrote:
> Hi Paul,
>
> I am not a php guy, but I know that the following setting in the php.ini has to be set as
>
> cgi.force_redirect = 0
>  otherwise you will have problems with php's redirect to pages. That's the only thing I know to 
> look for.
>
> Johannes
>   
Hi Johannes,
    First, thanks for the reply! I've made sure that setting is set, but
I'm left wondering if the almighty reboot in windows is required before
the setting takes effect, since I've already restarted Xitami (in
apache, you restart the HTTP server for changes to take effect). I'll
try it and let everyone know one way or another.

Thanks!
-- 
Paul Webb
WebbEnabled Solutions, LLC (vCard
<http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
pwebb@webbenabled.com <mailto:pwebb@webbenabled.com> (PGP/GPG Encryption
Capable)
http://www.webbenabled.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060613/2bae09e9/attachment.htm
From mw at 9000.org  Tue Jun 13 21:07:59 2006
From: mw at 9000.org (Magnus Wedberg)
Date: Tue Jun 13 21:09:10 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <448F0298.6060802@webbenabled.com>
References: <448EABEB.9484.1042DE4@localhost>
Message-ID: <448F292F.28883.2BCE81C@mw.9000.org>

> I'm left wondering if the almighty reboot in windows is required
> before the setting takes effect, since I've already restarted Xitami
> (in apache, you restart the HTTP server for changes to take effect).

When running PHP in CGI mode the .ini file is read every time. So, no 
restart.

However, my suspicion is that your problem is in the 2.5 version. I 
have always found it to be supremely buggy in a huge and fascinating 
number of ways; actually, I have never ever been able to use it in a 
production environment (I have tried for several of the beta 
releases). It is my firm belief that this -- still in beta -- 
software is completely and utterly broken. Use the latest 2.4 
release; I'd be surprised if it didn't "just work".

Finally, you are brave to consider switching from Apache to Xitami. I 
have done exactly the opposite. Xitami is much faster, but only for 
static content, as firing up a PHP process every time takes 
considerable time. Also, Xitami is no longer in active development, 
and will never again be. If I were to consider Xitami again, it would 
only be for a dedicated image server, where its capacities can shine 
like they did in 2000 when Xitami was still a pretty cutting edge 
server.

 
 
-- 
Magnus Wedberg
http://www.magnuswedberg.com/  -- NEW and improved!
mw AT 9000.org
Warning! Objects in viewfinder may be closer than they appear.



From pwebb at webbenabled.com  Wed Jun 14 04:46:49 2006
From: pwebb at webbenabled.com (Webb, Paul)
Date: Wed Jun 14 04:46:56 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <448F292F.28883.2BCE81C@mw.9000.org>
References: <448EABEB.9484.1042DE4@localhost>
	<448F292F.28883.2BCE81C@mw.9000.org>
Message-ID: <448F7899.4050705@webbenabled.com>

Magnus Wedberg wrote:
> When running PHP in CGI mode the .ini file is read every time. So, no 
> restart.
>
> However, my suspicion is that your problem is in the 2.5 version. I 
> have always found it to be supremely buggy in a huge and fascinating 
> number of ways; actually, I have never ever been able to use it in a 
> production environment (I have tried for several of the beta 
> releases). It is my firm belief that this -- still in beta -- 
> software is completely and utterly broken. Use the latest 2.4 
> release; I'd be surprised if it didn't "just work".
>
> Finally, you are brave to consider switching from Apache to Xitami. I 
> have done exactly the opposite. Xitami is much faster, but only for 
> static content, as firing up a PHP process every time takes 
> considerable time. Also, Xitami is no longer in active development, 
> and will never again be. If I were to consider Xitami again, it would 
> only be for a dedicated image server, where its capacities can shine 
> like they did in 2000 when Xitami was still a pretty cutting edge 
> server.
>
>  
>  
>   
Sorry guys -- I rebooted the server first, then saw the above message,
and then backed down to 2.4 (a fresh install, not reusing any
configuration files) -- it still doesn't redirect. :-(

-- 
Paul Webb
WebbEnabled Solutions, LLC (vCard
<http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
pwebb@webbenabled.com <mailto:pwebb@webbenabled.com> (PGP/GPG Encryption
Capable)
http://www.webbenabled.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060613/698fa29d/attachment.html
From mw at 9000.org  Wed Jun 14 08:58:16 2006
From: mw at 9000.org (Magnus Wedberg)
Date: Wed Jun 14 08:59:04 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <448F7899.4050705@webbenabled.com>
References: <448F292F.28883.2BCE81C@mw.9000.org>
Message-ID: <448FCFA8.14636.B2014@mw.9000.org>

> Sorry guys -- I rebooted the server first, then saw the above message,
> and then backed down to 2.4 (a fresh install, not reusing any
> configuration files) -- it still doesn't redirect. :-(

That is extremely strange, because I get redirects with my install of 
Xitami. I use the following line:

header("Location: http://www.magnuswedberg.com/\n");


 
 
-- 
Magnus Wedberg
http://www.magnuswedberg.com/  -- NEW and improved!
mw AT 9000.org
Warning! Objects in viewfinder may be closer than they appear.



From pwebb at webbenabled.com  Wed Jun 14 17:38:33 2006
From: pwebb at webbenabled.com (Webb, Paul)
Date: Wed Jun 14 17:38:40 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <448FCFA8.14636.B2014@mw.9000.org>
References: <448F292F.28883.2BCE81C@mw.9000.org>
	<448FCFA8.14636.B2014@mw.9000.org>
Message-ID: <44902D79.4020204@webbenabled.com>

Magnus Wedberg wrote:
>> Sorry guys -- I rebooted the server first, then saw the above message,
>> and then backed down to 2.4 (a fresh install, not reusing any
>> configuration files) -- it still doesn't redirect. :-(
>>     
>
> That is extremely strange, because I get redirects with my install of 
> Xitami. I use the following line:
>
> header("Location: http://www.magnuswedberg.com/\n");
>
>   
I tried the line you have above - no luck. :-(

Hmm... Would it be possible for me to compare your config file for your
virtual host to mine?

Perhaps I can match up options and figure it out from there... :-(

Thanks!
-- 
Paul Webb
WebbEnabled Solutions, LLC (vCard
<http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
pwebb@webbenabled.com <mailto:pwebb@webbenabled.com> (PGP/GPG Encryption
Capable)
http://www.webbenabled.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060614/220f12d7/attachment.htm
From xitami at pastryworld.ca  Wed Jun 14 18:15:41 2006
From: xitami at pastryworld.ca (Johannes Prost)
Date: Wed Jun 14 18:16:54 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <44902D79.4020204@webbenabled.com>
References: <448FCFA8.14636.B2014@mw.9000.org>
Message-ID: <448FE1CD.5337.ACA5ED@localhost>

Hello Paul,

as Markus mentioned, I use the same line for my redirects ( other domains of course) but without 
the \n and I ran various scripts and a few redirects in Squirrelmail with xitami and have no 
problems. I ran xitami 2.5b2 with php 4.3.11 just fine.

Here are my php relevants entries in the default.cfg

[Filter]
    .php = "D:/PHP/php.exe"

[Mime]
    Php = "application/x-httpd-php"

and the php.ini settings I mentioned before. I haven't tried yet php 5 



> Magnus Wedberg wrote:
> >> Sorry guys -- I rebooted the server first, then saw the above message,
> >> and then backed down to 2.4 (a fresh install, not reusing any
> >> configuration files) -- it still doesn't redirect. :-(
> >>     
> >
> > That is extremely strange, because I get redirects with my install of 
> > Xitami. I use the following line:
> >
> > header("Location: http://www.magnuswedberg.com/\n");
> >
> >   
> I tried the line you have above - no luck. :-(
> 
> Hmm... Would it be possible for me to compare your config file for your
> virtual host to mine?
> 
> Perhaps I can match up options and figure it out from there... :-(
> 
> Thanks!
> -- 
> Paul Webb
> WebbEnabled Solutions, LLC (vCard
> <http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
> pwebb@webbenabled.com <mailto:pwebb@webbenabled.com> (PGP/GPG Encryption
> Capable)
> http://www.webbenabled.com
> 

Johannes



From mw at 9000.org  Wed Jun 14 20:23:15 2006
From: mw at 9000.org (Magnus Wedberg)
Date: Wed Jun 14 20:24:18 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <44902D79.4020204@webbenabled.com>
References: <448FCFA8.14636.B2014@mw.9000.org>
Message-ID: <44907033.19881.93E488@mw.9000.org>

> > header("Location: http://www.magnuswedberg.com/\n");
>
> I tried the line you have above - no luck. :-(

Um, just a stupid question, but you aren't sending anything else to 
the client before are you? The redirect needs to be received by the 
client exclusively or it won't work. In your situation I would telnet 
to the server, GET the page, and see what response there is.

> Hmm... Would it be possible for me to compare your config file for
> your virtual host to mine?

There is nothing special in there. Really. Nothing that could affect 
anything. Log file location, web content location, and a .aut 
reference to a file that's empty.

 
 
-- 
Magnus Wedberg
http://www.magnuswedberg.com/  -- NEW and improved!
mw AT 9000.org
Warning! Objects in viewfinder may be closer than they appear.



From pwebb at webbenabled.com  Wed Jun 14 20:37:20 2006
From: pwebb at webbenabled.com (Webb, Paul)
Date: Wed Jun 14 20:37:24 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <44907033.19881.93E488@mw.9000.org>
References: <448FCFA8.14636.B2014@mw.9000.org>
	<44907033.19881.93E488@mw.9000.org>
Message-ID: <44905760.7080800@webbenabled.com>

Magnus Wedberg wrote:
> Um, just a stupid question, but you aren't sending anything else to 
> the client before are you? The redirect needs to be received by the 
> client exclusively or it won't work. In your situation I would telnet 
> to the server, GET the page, and see what response there is.
>
>   
Nope. I even plugged in your header line just to be sure that it wasn't
me being stupid. Here's the content of the current index.php file:

<?php
    error_reporting(E_ALL);
    ini_set('display_errors', true);
    header("Location: http://www.magnuswedberg.com/");
?>

The first two lines are me trying to get something, anything out of PHP
to indicate that something could be wrong on it's end. I still see nothing.

Additionally, I've been looking at what is displayed in the access logs.
Here's what I get when I request index.php:

10.0.143.51 - - [14/Jun/2006:13:59:01 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:13:59:04 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:13:59:06 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:14:00:19 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:14:01:26 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:14:04:56 -0500] "GET / HTTP/1.1" 200 0 "" ""

Note the 0 byte-count that is returned, and the fact that there's
nothing in the referrer section at the end. Here's a normal one from the
same log file:

10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin HTTP/1.1"
200 4130 "" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin/$left.gif
HTTP/1.1" 200 179 "http://10.0.143.253/admin" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin/$help.gif
HTTP/1.1" 200 213 "http://10.0.143.253/admin" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin/$right.gif
HTTP/1.1" 200 182 "http://10.0.143.253/admin" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET
/admin/$console.gif HTTP/1.1" 200 281 "http://10.0.143.253/admin" ""

What I'm seeing from here is that nothing is being passed back from PHP
to Xitami to tell it where to redirect to. The question is, why not?

And just for kicks, here's the first few lines of my php.ini file:

[PHP]
   allow_call_time_pass_reference    = On
   allow_url_fopen            = On
   asp_tags                = Off
   auto_append_file            =
   auto_prepend_file            =
   cgi.force_redirect            = 0
   default_mimetype            = "text/html"
   default_socket_timeout        = 60
   disable_functions            =
   disable_classes            =
   display_errors            = On

Very, very confusing.... If you'd like, take a look yourself. You can
get to the test server at http://www.journalcommunity.com:8084, and
index.php is the default page.

Thanks!
-- 
Paul Webb
WebbEnabled Solutions, LLC (vCard
<http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
pwebb@webbenabled.com <mailto:pwebb@webbenabled.com> (PGP/GPG Encryption
Capable)
http://www.webbenabled.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060614/b6a2452c/attachment.html
From ronackgen01 at bellsouth.net  Wed Jun 14 23:56:18 2006
From: ronackgen01 at bellsouth.net (Ron Ackerman)
Date: Wed Jun 14 23:53:35 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <44905760.7080800@webbenabled.com>
Message-ID: <20060614215323.XHTS2189.ibm63aec.bellsouth.net@ronscomputer>

I tried this
 
<?php
header("Location: HYPERLINK
"http://www.magnuswedberg.com/\\n"http://www.magnuswedberg.com/\n");
?>
and it worked just fine 
HYPERLINK
"http://www.miplanet.net/old/test2.php"http://www.miplanet.net/old/test2.php
 
Try putting in a php file all by itself and see if it works, if you have it
with other stuff it might be elsewhere in your code. 
 
 
What version of PHP are you using and is this on the linux or win box or
both. Can we see your php.ini? Can you do a phpinfo();
 
Ron

   _____  

From: xitami-bounces@lists.xitami.org
[mailto:xitami-bounces@lists.xitami.org] On Behalf Of Webb, Paul
Sent: Wednesday, June 14, 2006 2:37 PM
To: Xitami Users General Discussion
Subject: Re: [Xitami] Xitami PHP Header Redirect issues...


Magnus Wedberg wrote: 

Um, just a stupid question, but you aren't sending anything else to 

the client before are you? The redirect needs to be received by the 

client exclusively or it won't work. In your situation I would telnet 

to the server, GET the page, and see what response there is.



  

Nope. I even plugged in your header line just to be sure that it wasn't me
being stupid. Here's the content of the current index.php file:

<?php
    error_reporting(E_ALL);
    ini_set('display_errors', true);
    header("Location: HYPERLINK
"http://www.magnuswedberg.com/"http://www.magnuswedberg.com/");
?>

The first two lines are me trying to get something, anything out of PHP to
indicate that something could be wrong on it's end. I still see nothing.

Additionally, I've been looking at what is displayed in the access logs.
Here's what I get when I request index.php:

10.0.143.51 - - [14/Jun/2006:13:59:01 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:13:59:04 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:13:59:06 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:14:00:19 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:14:01:26 -0500] "GET / HTTP/1.1" 200 0 "" ""
10.0.143.51 - - [14/Jun/2006:14:04:56 -0500] "GET / HTTP/1.1" 200 0 "" ""

Note the 0 byte-count that is returned, and the fact that there's nothing in
the referrer section at the end. Here's a normal one from the same log file:

10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin HTTP/1.1" 200
4130 "" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin/$left.gif
HTTP/1.1" 200 179 HYPERLINK
"http://10.0.143.253/admin""http://10.0.143.253/admin" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin/$help.gif
HTTP/1.1" 200 213 HYPERLINK
"http://10.0.143.253/admin""http://10.0.143.253/admin" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin/$right.gif
HTTP/1.1" 200 182 HYPERLINK
"http://10.0.143.253/admin""http://10.0.143.253/admin" ""
10.0.143.51 - admin [14/Jun/2006:14:09:37 -0500] "GET /admin/$console.gif
HTTP/1.1" 200 281 HYPERLINK
"http://10.0.143.253/admin""http://10.0.143.253/admin" ""

What I'm seeing from here is that nothing is being passed back from PHP to
Xitami to tell it where to redirect to. The question is, why not?

And just for kicks, here's the first few lines of my php.ini file:

[PHP]
   allow_call_time_pass_reference    = On
   allow_url_fopen            = On
   asp_tags                = Off
   auto_append_file            = 
   auto_prepend_file            = 
   cgi.force_redirect            = 0
   default_mimetype            = "text/html"
   default_socket_timeout        = 60
   disable_functions            = 
   disable_classes            = 
   display_errors            = On

Very, very confusing.... If you'd like, take a look yourself. You can get to
the test server at HYPERLINK
"http://www.journalcommunity.com:8084"http://www.journalcommunity.com:8084,
and index.php is the default page.

Thanks!

-- 
Paul Webb
WebbEnabled Solutions, LLC (HYPERLINK
"http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf"vCard)
HYPERLINK "mailto:pwebb@webbenabled.com"pwebb@webbenabled.com (PGP/GPG
Encryption Capable)
HYPERLINK "http://www.webbenabled.com"http://www.webbenabled.com 


--
No virus found in this incoming message.
Checked by AVG Free Edition.
Version: 7.1.394 / Virus Database: 268.8.4/363 - Release Date: 6/13/2006



-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.394 / Virus Database: 268.8.4/363 - Release Date: 6/13/2006
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060614/db2cd748/attachment.htm
From pwebb at webbenabled.com  Thu Jun 15 01:26:53 2006
From: pwebb at webbenabled.com (Webb, Paul)
Date: Thu Jun 15 08:08:06 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <20060614215323.XHTS2189.ibm63aec.bellsouth.net@ronscomputer>
References: <20060614215323.XHTS2189.ibm63aec.bellsouth.net@ronscomputer>
Message-ID: <44909B3D.8060506@webbenabled.com>

Skipped content of type multipart/alternative-------------- next part --------------
phpinfo()
PHP Version => 5.1.2

System => Windows NT SERVER4 5.2 build 3790
Build Date => Jan 11 2006 16:35:21
Configure Command => cscript /nologo configure.js  "--enable-snapshot-build" "--with-gd=shared"
Server API => Command Line Interface
Virtual Directory Support => enabled
Configuration File (php.ini) Path => C:\WINDOWS\php.ini
PHP API => 20041225
PHP Extension => 20050922
Zend Extension => 220051025
Debug Build => no
Thread Safety => enabled
Zend Memory Manager => enabled
IPv6 Support => enabled
Registered PHP Streams => php, file, http, ftp, compress.zlib  
Registered Stream Socket Transports => tcp, udp
Registered Stream Filters => convert.iconv.*, string.rot13, string.toupper, string.tolower, string.strip_tags, convert.*, zlib.*


This program makes use of the Zend Scripting Language Engine:
Zend Engine v2.1.0, Copyright (c) 1998-2006 Zend Technologies


 _______________________________________________________________________


Configuration

PHP Core

Directive => Local Value => Master Value
allow_call_time_pass_reference => On => On
allow_url_fopen => On => On
always_populate_raw_post_data => Off => Off
arg_separator.input => & => &
arg_separator.output => & => &
asp_tags => Off => Off
auto_append_file => no value => no value
auto_globals_jit => On => On
auto_prepend_file => no value => no value
browscap => no value => no value
default_charset => no value => no value
default_mimetype => text/html => text/html
define_syslog_variables => Off => Off
disable_classes => no value => no value
disable_functions => no value => no value
display_errors => On => On
display_startup_errors => Off => Off
doc_root => no value => no value
docref_ext => no value => no value
docref_root => no value => no value
enable_dl => On => On
error_append_string => no value => no value
error_log => no value => no value
error_prepend_string => no value => no value
error_reporting => 2039 => 2039
expose_php => On => On
extension_dir => c:\php\ext => c:\php\ext
file_uploads => On => On
highlight.bg => #FFFFFF => #FFFFFF
highlight.comment => #FF8000 => #FF8000
highlight.default => #0000BB => #0000BB
highlight.html => #000000 => #000000
highlight.keyword => #007700 => #007700
highlight.string => #DD0000 => #DD0000
html_errors => Off => On
ignore_repeated_errors => Off => Off
ignore_repeated_source => Off => Off
ignore_user_abort => Off => Off
implicit_flush => On => Off
include_path => .;c:\php\includes => .;c:\php\includes
log_errors => Off => Off
log_errors_max_len => 1024 => 1024
magic_quotes_gpc => On => On
magic_quotes_runtime => Off => Off
magic_quotes_sybase => Off => Off
mail.force_extra_parameters => no value => no value
max_execution_time => 0 => 120
max_input_time => 60 => 60
open_basedir => no value => no value
output_buffering => 0 => 1
output_handler => no value => no value
post_max_size => 8M => 8M
precision => 12 => 12
realpath_cache_size => 16K => 16K
realpath_cache_ttl => 120 => 120
register_argc_argv => On => On
register_globals => On => On
register_long_arrays => On => On
report_memleaks => On => On
report_zend_debug => Off => Off
safe_mode => Off => Off
safe_mode_exec_dir => no value => no value
safe_mode_gid => Off => Off
safe_mode_include_dir => no value => no value
sendmail_from => noreply@webbenabled.com => noreply@webbenabled.com
sendmail_path => no value => no value
serialize_precision => 100 => 100
short_open_tag => On => On
SMTP => localhost => localhost
smtp_port => 25 => 25
sql.safe_mode => Off => Off
track_errors => Off => Off
unserialize_callback_func => no value => no value
upload_max_filesize => 1000M => 1000M
upload_tmp_dir => C:\PHP\uploadtemp => C:\PHP\uploadtemp
user_dir => no value => no value
variables_order => EGPCS => EGPCS
xmlrpc_error_number => 0 => 0
xmlrpc_errors => Off => Off
y2k_compliance => On => On
zend.ze1_compatibility_mode => Off => Off

bcmath

BCMath support => enabled

calendar

Calendar support => enabled

com_dotnet

COM support => enabled
DCOM support => disabled
.Net support => enabled

Directive => Local Value => Master Value
com.allow_dcom => 0 => 0
com.autoregister_casesensitive => 1 => 1
com.autoregister_typelib => 0 => 0
com.autoregister_verbose => 0 => 0
com.code_page => no value => no value
com.typelib_file => no value => no value

ctype

ctype functions => enabled

date

date/time support => enabled
Timezone Database Version => 2005.18
Timezone Database => internal
Default timezone => America/New_York

Directive => Local Value => Master Value
date.default_latitude => 31.7667 => 31.7667
date.default_longitude => 35.2333 => 35.2333
date.sunrise_zenith => 90.583333 => 90.583333
date.sunset_zenith => 90.583333 => 90.583333
date.timezone => no value => no value

dom

DOM/XML => enabled
DOM/XML API Version => 20031129
libxml Version => 2.6.22
HTML Support => enabled
XPath Support => enabled
XPointer Support => enabled
Schema Support => enabled
RelaxNG Support => enabled

ftp

FTP support => enabled

iconv

iconv support => enabled
iconv implementation => "libiconv"
iconv library version => 1.9

Directive => Local Value => Master Value
iconv.input_encoding => ISO-8859-1 => ISO-8859-1
iconv.internal_encoding => ISO-8859-1 => ISO-8859-1
iconv.output_encoding => ISO-8859-1 => ISO-8859-1

libxml

libXML support => active
libXML Version => 2.6.22
libXML streams => enabled

mssql

MSSQL Support => enabled
Active Persistent Links => 0
Active Links => 0
Library version => 7.0

Directive => Local Value => Master Value
mssql.allow_persistent => On => On
mssql.batchsize => 0 => 0
mssql.compatability_mode => Off => Off
mssql.connect_timeout => 5 => 5
mssql.datetimeconvert => On => On
mssql.max_links => Unlimited => Unlimited
mssql.max_persistent => Unlimited => Unlimited
mssql.max_procs => Unlimited => Unlimited
mssql.min_error_severity => 10 => 10
mssql.min_message_severity => 10 => 10
mssql.secure_connection => Off => Off
mssql.textlimit => Server default => Server default
mssql.textsize => Server default => Server default
mssql.timeout => 60 => 60

mysql

MySQL Support => enabled
Active Persistent Links => 0
Active Links => 0
Client API version => 4.1.7

Directive => Local Value => Master Value
mysql.allow_persistent => On => On
mysql.connect_timeout => 60 => 60
mysql.default_host => no value => no value
mysql.default_password => no value => no value
mysql.default_port => no value => no value
mysql.default_socket => no value => no value
mysql.default_user => no value => no value
mysql.max_links => Unlimited => Unlimited
mysql.max_persistent => Unlimited => Unlimited
mysql.trace_mode => Off => Off

odbc

ODBC Support => enabled
Active Persistent Links => 0
Active Links => 0
ODBC library => Win32

Directive => Local Value => Master Value
odbc.allow_persistent => On => On
odbc.check_persistent => On => On
odbc.default_db => no value => no value
odbc.default_pw => no value => no value
odbc.default_user => no value => no value
odbc.defaultbinmode => return as is => return as is
odbc.defaultlrl => return up to 4096 bytes => return up to 4096 bytes
odbc.max_links => Unlimited => Unlimited
odbc.max_persistent => Unlimited => Unlimited

pcre

PCRE (Perl Compatible Regular Expressions) Support => enabled
PCRE Library Version => 6.2 01-Aug-2005

Reflection

Reflection => enabled
Version => $Id: php_reflection.c,v 1.164.2.17 2006/01/01 12:50:12 sniper Exp $

session

Session Support => enabled
Registered save handlers => files user 
Registered serializer handlers => php php_binary wddx 

Directive => Local Value => Master Value
session.auto_start => Off => Off
session.bug_compat_42 => On => On
session.bug_compat_warn => On => On
session.cache_expire => 180 => 180
session.cache_limiter => nocache => nocache
session.cookie_domain => no value => no value
session.cookie_lifetime => 0 => 0
session.cookie_path => / => /
session.cookie_secure => Off => Off
session.entropy_file => no value => no value
session.entropy_length => 0 => 0
session.gc_divisor => 100 => 100
session.gc_maxlifetime => 1440 => 1440
session.gc_probability => 1 => 1
session.hash_bits_per_character => 4 => 4
session.hash_function => 0 => 0
session.name => PHPSESSID => PHPSESSID
session.referer_check => no value => no value
session.save_handler => files => files
session.save_path => N;MODE;/path => N;MODE;/path
session.serialize_handler => php => php
session.use_cookies => On => On
session.use_only_cookies => Off => Off
session.use_trans_sid => 0 => 0

SimpleXML

Simplexml support => enabled
Revision => $Revision: 1.151.2.10 $
Schema support => enabled

SPL

SPL support => enabled
Interfaces => Countable, OuterIterator, RecursiveIterator, SeekableIterator, SplObserver, SplSubject
Classes => AppendIterator, ArrayIterator, ArrayObject, BadFunctionCallException, BadMethodCallException, CachingIterator, DirectoryIterator, DomainException, EmptyIterator, FilterIterator, InfiniteIterator, InvalidArgumentException, IteratorIterator, LengthException, LimitIterator, LogicException, NoRewindIterator, OutOfBoundsException, OutOfRangeException, OverflowException, ParentIterator, RangeException, RecursiveArrayIterator, RecursiveCachingIterator, RecursiveDirectoryIterator, RecursiveFilterIterator, RecursiveIteratorIterator, RuntimeException, SimpleXMLIterator, SplFileInfo, SplFileObject, SplObjectStorage, SplTempFileObject, UnderflowException, UnexpectedValueException

standard

Regex Library => Bundled library enabled
Dynamic Library Support => enabled
Internal Sendmail Support for Windows => enabled

Directive => Local Value => Master Value
assert.active => 1 => 1
assert.bail => 0 => 0
assert.callback => no value => no value
assert.quiet_eval => 0 => 0
assert.warning => 1 => 1
auto_detect_line_endings => 0 => 0
default_socket_timeout => 60 => 60
safe_mode_allowed_env_vars => PHP_ => PHP_
safe_mode_protected_env_vars => LD_LIBRARY_PATH => LD_LIBRARY_PATH
url_rewriter.tags => a=href,area=href,frame=src,input=src,form=,fieldset= => a=href,area=href,frame=src,input=src,form=,fieldset=
user_agent => no value => no value

tokenizer

Tokenizer Support => enabled

wddx

WDDX Support => enabled
WDDX Session Serializer => enabled

xml

XML Support => active
XML Namespace Support => active
libxml2 Version => 2.6.22

xmlreader

XMLReader => enabled

xmlwriter

XMLWriter => enabled

zlib

ZLib Support => enabled
Stream Wrapper support => compress.zlib://
Stream Filter support => zlib.inflate, zlib.deflate
Compiled Version => 1.2.3
Linked Version => 1.2.3

Directive => Local Value => Master Value
zlib.output_compression => Off => Off
zlib.output_compression_level => -1 => -1
zlib.output_handler => no value => no value

Additional Modules

Module Name

Environment

Variable => Value
CGI_URL => /cgi-bin
CGI_ROOT => C:/xitami/cgi-bin
DOCUMENT_ROOT => C:/Websites/JournalCommunity/wwwroot
PATH_TRANSLATED => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
PATH_INFO =>  
REMOTE_ADDR => 10.0.143.51
REMOTE_HOST => 10.0.143.51
REMOTE_USER => -
CONTENT_LENGTH => 0
CONTENT_TYPE =>  
SCRIPT_NAME => /phpinfo.php
SCRIPT_PATH => C:/Websites/JournalCommunity/wwwroot
REQUEST_METHOD => GET
GATEWAY_INTERFACE => CGI/1.1
SERVER_PROTOCOL => HTTP/1.0
SERVER_PORT => 80
SERVER_URL => http://10.0.143.253/
SERVER_NAME => 10.0.143.253
SERVER_VERSION => 2.4d10
SERVER_SOFTWARE => Xitami
HTTP_CONTENT_LENGTH => 0
HTTP_HOST => 10.0.143.253
HTTP_USER_AGENT => Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1a3) Gecko/20060526 BonEcho/2.0a3
HTTP_ACCEPT => text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
HTTP_ACCEPT_LANGUAGE => en-us,en;q=0.5
HTTP_ACCEPT_ENCODING => gzip,deflate
HTTP_ACCEPT_CHARSET => ISO-8859-1,utf-8;q=0.7,*;q=0.7
HTTP_KEEP_ALIVE => 300
HTTP_CONNECTION => keep-alive
WINSBPROGRAMDIR => C:\Program Files\Windows for Small Business Server
WINDIR => C:\WINDOWS
USERPROFILE => C:\Documents and Settings\Default User
TMP => C:\WINDOWS\TEMP
TEMP => C:\WINDOWS\TEMP
SYSTEMROOT => C:\WINDOWS
SYSTEMDRIVE => C:
SBSPROGRAMDIR => C:\Program Files\Microsoft Windows Small Business Server
PROGRAMFILES => C:\Program Files
PROCESSOR_REVISION => 0803
PROCESSOR_LEVEL => 6
PROCESSOR_IDENTIFIER => x86 Family 6 Model 8 Stepping 3, GenuineIntel
PROCESSOR_ARCHITECTURE => x86
PATHEXT => .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.VBS
PATH => C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Microsoft SQL Server\80\Tools\Binn\;C:\PHP;C:\MySQL\bin
OS => Windows_NT
NUMBER_OF_PROCESSORS => 1
FP_NO_HOST_CHECK => NO
EXCHICONS => C:\Program Files\Exchsrvr\bin\maildsmx.dll
COMSPEC => C:\WINDOWS\system32\cmd.exe
COMPUTERNAME => SERVER4
COMMONPROGRAMFILES => C:\Program Files\Common Files
CLUSTERLOG => C:\WINDOWS\Cluster\cluster.log
ALLUSERSPROFILE => C:\Documents and Settings\All Users

PHP Variables

Variable => Value
PHP_SELF => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
_SERVER["CGI_URL"] => /cgi-bin
_SERVER["CGI_ROOT"] => C:/xitami/cgi-bin
_SERVER["DOCUMENT_ROOT"] => 
_SERVER["PATH_TRANSLATED"] => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
_SERVER["PATH_INFO"] => 
_SERVER["REMOTE_ADDR"] => 10.0.143.51
_SERVER["REMOTE_HOST"] => 10.0.143.51
_SERVER["REMOTE_USER"] => -
_SERVER["CONTENT_LENGTH"] => 0
_SERVER["CONTENT_TYPE"] => 
_SERVER["SCRIPT_NAME"] => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
_SERVER["SCRIPT_PATH"] => C:/Websites/JournalCommunity/wwwroot
_SERVER["REQUEST_METHOD"] => GET
_SERVER["GATEWAY_INTERFACE"] => CGI/1.1
_SERVER["SERVER_PROTOCOL"] => HTTP/1.0
_SERVER["SERVER_PORT"] => 80
_SERVER["SERVER_URL"] => http://10.0.143.253/
_SERVER["SERVER_NAME"] => 10.0.143.253
_SERVER["SERVER_VERSION"] => 2.4d10
_SERVER["SERVER_SOFTWARE"] => Xitami
_SERVER["HTTP_CONTENT_LENGTH"] => 0
_SERVER["HTTP_HOST"] => 10.0.143.253
_SERVER["HTTP_USER_AGENT"] => Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1a3) Gecko/20060526 BonEcho/2.0a3
_SERVER["HTTP_ACCEPT"] => text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
_SERVER["HTTP_ACCEPT_LANGUAGE"] => en-us,en;q=0.5
_SERVER["HTTP_ACCEPT_ENCODING"] => gzip,deflate
_SERVER["HTTP_ACCEPT_CHARSET"] => ISO-8859-1,utf-8;q=0.7,*;q=0.7
_SERVER["HTTP_KEEP_ALIVE"] => 300
_SERVER["HTTP_CONNECTION"] => keep-alive
_SERVER["WINSBPROGRAMDIR"] => C:\Program Files\Windows for Small Business Server
_SERVER["WINDIR"] => C:\WINDOWS
_SERVER["USERPROFILE"] => C:\Documents and Settings\Default User
_SERVER["TMP"] => C:\WINDOWS\TEMP
_SERVER["TEMP"] => C:\WINDOWS\TEMP
_SERVER["SYSTEMROOT"] => C:\WINDOWS
_SERVER["SYSTEMDRIVE"] => C:
_SERVER["SBSPROGRAMDIR"] => C:\Program Files\Microsoft Windows Small Business Server
_SERVER["PROGRAMFILES"] => C:\Program Files
_SERVER["PROCESSOR_REVISION"] => 0803
_SERVER["PROCESSOR_LEVEL"] => 6
_SERVER["PROCESSOR_IDENTIFIER"] => x86 Family 6 Model 8 Stepping 3, GenuineIntel
_SERVER["PROCESSOR_ARCHITECTURE"] => x86
_SERVER["PATHEXT"] => .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.VBS
_SERVER["PATH"] => C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Microsoft SQL Server\80\Tools\Binn\;C:\PHP;C:\MySQL\bin
_SERVER["OS"] => Windows_NT
_SERVER["NUMBER_OF_PROCESSORS"] => 1
_SERVER["FP_NO_HOST_CHECK"] => NO
_SERVER["EXCHICONS"] => C:\Program Files\Exchsrvr\bin\maildsmx.dll
_SERVER["COMSPEC"] => C:\WINDOWS\system32\cmd.exe
_SERVER["COMPUTERNAME"] => SERVER4
_SERVER["COMMONPROGRAMFILES"] => C:\Program Files\Common Files
_SERVER["CLUSTERLOG"] => C:\WINDOWS\Cluster\cluster.log
_SERVER["ALLUSERSPROFILE"] => C:\Documents and Settings\All Users
_SERVER["PHP_SELF"] => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
_SERVER["SCRIPT_FILENAME"] => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
_SERVER["REQUEST_TIME"] => 1150327462
_SERVER["argv"] => Array
(
    [0] => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
)

_SERVER["argc"] => 1
_ENV["CGI_URL"] => /cgi-bin
_ENV["CGI_ROOT"] => C:/xitami/cgi-bin
_ENV["DOCUMENT_ROOT"] => C:/Websites/JournalCommunity/wwwroot
_ENV["PATH_TRANSLATED"] => C:/Websites/JournalCommunity/wwwroot/phpinfo.php
_ENV["PATH_INFO"] => 
_ENV["REMOTE_ADDR"] => 10.0.143.51
_ENV["REMOTE_HOST"] => 10.0.143.51
_ENV["REMOTE_USER"] => -
_ENV["CONTENT_LENGTH"] => 0
_ENV["CONTENT_TYPE"] => 
_ENV["SCRIPT_NAME"] => /phpinfo.php
_ENV["SCRIPT_PATH"] => C:/Websites/JournalCommunity/wwwroot
_ENV["REQUEST_METHOD"] => GET
_ENV["GATEWAY_INTERFACE"] => CGI/1.1
_ENV["SERVER_PROTOCOL"] => HTTP/1.0
_ENV["SERVER_PORT"] => 80
_ENV["SERVER_URL"] => http://10.0.143.253/
_ENV["SERVER_NAME"] => 10.0.143.253
_ENV["SERVER_VERSION"] => 2.4d10
_ENV["SERVER_SOFTWARE"] => Xitami
_ENV["HTTP_CONTENT_LENGTH"] => 0
_ENV["HTTP_HOST"] => 10.0.143.253
_ENV["HTTP_USER_AGENT"] => Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1a3) Gecko/20060526 BonEcho/2.0a3
_ENV["HTTP_ACCEPT"] => text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
_ENV["HTTP_ACCEPT_LANGUAGE"] => en-us,en;q=0.5
_ENV["HTTP_ACCEPT_ENCODING"] => gzip,deflate
_ENV["HTTP_ACCEPT_CHARSET"] => ISO-8859-1,utf-8;q=0.7,*;q=0.7
_ENV["HTTP_KEEP_ALIVE"] => 300
_ENV["HTTP_CONNECTION"] => keep-alive
_ENV["WINSBPROGRAMDIR"] => C:\Program Files\Windows for Small Business Server
_ENV["WINDIR"] => C:\WINDOWS
_ENV["USERPROFILE"] => C:\Documents and Settings\Default User
_ENV["TMP"] => C:\WINDOWS\TEMP
_ENV["TEMP"] => C:\WINDOWS\TEMP
_ENV["SYSTEMROOT"] => C:\WINDOWS
_ENV["SYSTEMDRIVE"] => C:
_ENV["SBSPROGRAMDIR"] => C:\Program Files\Microsoft Windows Small Business Server
_ENV["PROGRAMFILES"] => C:\Program Files
_ENV["PROCESSOR_REVISION"] => 0803
_ENV["PROCESSOR_LEVEL"] => 6
_ENV["PROCESSOR_IDENTIFIER"] => x86 Family 6 Model 8 Stepping 3, GenuineIntel
_ENV["PROCESSOR_ARCHITECTURE"] => x86
_ENV["PATHEXT"] => .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.VBS
_ENV["PATH"] => C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Microsoft SQL Server\80\Tools\Binn\;C:\PHP;C:\MySQL\bin
_ENV["OS"] => Windows_NT
_ENV["NUMBER_OF_PROCESSORS"] => 1
_ENV["FP_NO_HOST_CHECK"] => NO
_ENV["EXCHICONS"] => C:\Program Files\Exchsrvr\bin\maildsmx.dll
_ENV["COMSPEC"] => C:\WINDOWS\system32\cmd.exe
_ENV["COMPUTERNAME"] => SERVER4
_ENV["COMMONPROGRAMFILES"] => C:\Program Files\Common Files
_ENV["CLUSTERLOG"] => C:\WINDOWS\Cluster\cluster.log
_ENV["ALLUSERSPROFILE"] => C:\Documents and Settings\All Users

PHP License
This program is free software; you can redistribute it and/or modify
it under the terms of the PHP License as published by the PHP Group
and included in the distribution in the file:  LICENSE

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

If you did not receive a copy of the PHP license, or have any
questions about PHP licensing, please contact license@php.net.
-------------- next part --------------
[PHP]
   allow_call_time_pass_reference	= On
   allow_url_fopen			= On
   asp_tags				= Off
   auto_append_file			= 
   auto_prepend_file			= 
   cgi.force_redirect			= 0
   default_mimetype			= "text/html"
   default_socket_timeout		= 60
   disable_functions			= 
   disable_classes			= 
   display_errors			= On
   display_startup_errors		= Off
   doc_root				= 
   enable_dl				= On
   engine				= On
   error_reporting			= E_ALL & ~E_NOTICE & ~E_STRICT
   expose_php				= On
   extension				= php_mssql.dll
   extension				= php_mysql.dll
   extension_dir			= "c:\php\ext"
   file_uploads				= On
   ignore_repeated_errors		= Off
   ignore_repeated_source		= Off
   implicit_flush			= Off
   include_path				= ".;c:\php\includes"
   log_errors				= Off
   log_errors_max_len			= 1024
   magic_quotes_gpc			= On
   magic_quotes_runtime			= Off
   magic_quotes_sybase			= Off
   max_execution_time			= 120
   max_input_time			= 60
   memory_limit				= 8M
   output_buffering			= On
   post_max_size			= 8M
   precision				= 12
   register_argc_argv			= On
   register_globals			= On
   register_long_arrays			= On
   report_memleaks			= On
   safe_mode				= Off
   safe_mode_allowed_env_vars		= PHP_
   safe_mode_exec_dir			=
   safe_mode_gid			= Off
   safe_mode_include_dir		=
   safe_mode_protected_env_vars		= LD_LIBRARY_PATH
   serialize_precision			= 100
   short_open_tag			= On
   track_errors				= Off
   unserialize_callback_func		=
   upload_max_filesize			= 1000M
   upload_tmp_dir			= C:\PHP\uploadtemp
   user_dir				=
   variables_order			= "EGPCS"
   y2k_compliance			= On
   zend.ze1_compatibility_mode		= Off
   zlib.output_compression		= Off
;    always_populate_raw_post_data	= On
;    arg_separator.input		= ";&"
;    arg_separator.output		= "&amp;"
;    auto_detect_line_endings		= Off
;    cgi.nph				= 1
;    cgi.redirect_status_env		= "yes"
;    cgi.rfc2616_headers		= 0
;    default_charset			= "iso-8859-1"
;    docref_ext				= .html
;    docref_root			= "/phpmanual/"
;    error_append_string		= "</font>"
;    error_log				= filename
;    error_log				= syslog
;    error_prepend_string		= "<font color=#ff0000>"
;    extension 				= php_bz2.dll
;    extension 				= php_cpdf.dll
;    extension 				= php_curl.dll
;    extension 				= php_dba.dll
;    extension 				= php_dbase.dll
;    extension 				= php_dbx.dll
;    extension 				= php_exif.dll
;    extension 				= php_fdf.dll
;    extension 				= php_filepro.dll
;    extension 				= php_gd2.dll
;    extension 				= php_gettext.dll
;    extension 				= php_ifx.dll
;    extension 				= php_iisfunc.dll
;    extension 				= php_imap.dll
;    extension 				= php_interbase.dll
;    extension 				= php_java.dll
;    extension 				= php_ldap.dll
;    extension 				= php_mbstring.dll
;    extension 				= php_mcrypt.dll
;    extension 				= php_mhash.dll
;    extension 				= php_mime_magic.dll
;    extension 				= php_ming.dll
;    extension 				= php_msql.dll
;    extension 				= php_oci8.dll
;    extension 				= php_openssl.dll
;    extension 				= php_oracle.dll
;    extension 				= php_pdf.dll
;    extension 				= php_pgsql.dll
;    extension 				= php_shmop.dll
;    extension 				= php_snmp.dll
;    extension 				= php_sockets.dll
;    extension 				= php_sybase_ct.dll
;    extension 				= php_tidy.dll
;    extension 				= php_w32api.dll
;    extension 				= php_xmlrpc.dll
;    extension 				= php_xsl.dll
;    extension				= php_yaz.dll
;    extension				= php_zip.dll
;    fastcgi.impersonate		= 1;
;    from				= "john@doe.com"
;    highlight.bg			= #FFFFFF
;    highlight.default			= #0000BB
;    highlight.comment			= #FF9900
;    highlight.html			= #000000
;    highlight.keyword			= #007700
;    highlight.string			= #DD0000
;    html_errors			= Off
;    open_basedir			=
;    output_handler			=
;    user_agent				= "PHP"
;    zlib.output_handler		=

[Syslog]
   define_syslog_variables		= Off
   sendmail_from			= noreply@webbenabled.com
   smtp					= localhost
   smtp_port				= 25
;   mail.force_extra_parameters		=
;   sendmail_path			=

[SQL]
   sql.safe_mode			= Off

[ODBC]
   odbc.allow_persistent		= On
   odbc.check_persistent		= On
   odbc.defaultbinmode			= 1
   odbc.defaultlrl			= 4096
   odbc.max_links			= -1
   odbc.max_persistent			= -1
;   odbc.default_db			=  Not yet implemented
;   odbc.default_pw			=  Not yet implemented
;   odbc.default_user			=  Not yet implemented

[MySQL]
   mysql.allow_persistent		= On
   mysql.connect_timeout		= 60
   mysql.default_port			=
   mysql.max_links			= -1
   mysql.max_persistent			= -1
   mysql.default_host			=
   mysql.default_password		=
   mysql.default_socket			=
   mysql.default_user			=
   mysql.trace_mode			= Off

[MySQLI]
   mysqli.default_host			=
   mysqli.default_password		=
   mysqli.default_port			= 3306
   mysqli.default_socket		=
   mysqli.default_user			=
   mysqli.max_links			= -1
   mysqli.reconnect			= Off

[mSQL]
   msql.allow_persistent		= On
   msql.max_links			= -1
   msql.max_persistent			= -1

[PostgresSQL]
   pgsql.allow_persistent		= On
   pgsql.auto_reset_persistent		= Off
   pgsql.ignore_notice			= 0
   pgsql.log_notice			= 0
   pgsql.max_links			= -1
   pgsql.max_persistent			= -1

[Sybase]
   sybase.allow_persistent		= On
   sybase.compatability_mode		= Off
   sybase.max_links			= -1
   sybase.max_persistent		= -1
   sybase.min_error_severity		= 10
   sybase.min_message_severity		= 10
;   sybase.interface_file		= "/usr/sybase/interfaces"

[Sybase-CT]
   sybct.allow_persistent		= On
   sybct.max_links			= -1
   sybct.max_persistent			= -1
   sybct.min_client_severity		= 10
   sybct.min_server_severity		= 10

[dbx]
   dbx.colnames_case			= "unchanged"

[bcmath]
   bcmath.scale				= 0

[browscap]
;   browscap				= extra/browscap.ini

[Informix]
   ifx.allow_persistent			= On
   ifx.blobinfile			= 0
   ifx.byteasvarchar			= 0
   ifx.charasvarchar			= 0
   ifx.default_host			= 
   ifx.default_password			= 
   ifx.default_user			= 
   ifx.max_links			= -1
   ifx.max_persistent			= -1
   ifx.nullformat			= 0
   ifx.textasvarchar			= 0

[Session]
   session.auto_start			= 0
   session.bug_compat_42		= 1
   session.bug_compat_warn		= 1
   session.cache_expire			= 180
   session.cache_limiter		= nocache
   session.cookie_domain		= 
   session.cookie_lifetime		= 0
   session.cookie_path			= /
   session.entropy_file			=
   session.entropy_length		= 0
   session.gc_divisor			= 100
   session.gc_maxlifetime		= 1440
   session.gc_probability		= 1
   session.hash_bits_per_character	= 4
   session.hash_function		= 0
   session.name				= PHPSESSID
   session.referer_check		=
   session.save_handler			= files
   session.save_path			= "N;MODE;/path"
   session.serialize_handler		= php
   session.use_cookies			= 1
   session.use_trans_sid		= 0
   url_rewriter.tags			= "a=href,area=href,frame=src,input=src,form=,fieldset="
;   session.entropy_file		= /dev/urandom
;   session.use_only_cookies		= 1

[MSSQL]
   mssql.allow_persistent		= On
   mssql.compatability_mode		= Off
   mssql.max_links			= -1
   mssql.max_persistent			= -1
   mssql.min_error_severity		= 10
   mssql.min_message_severity		= 10
   mssql.secure_connection		= Off
;   mssql.batchsize			= 0
;   mssql.connect_timeout		= 5
;   mssql.datetimeconvert		= On
;   mssql.max_procs			= 25
;   mssql.textlimit			= 4096
;   mssql.textsize			= 4096
;   mssql.timeout			= 60

[Assertion]
;   assert.active			= On
;   assert.bail				= Off
;   assert.callback			= 0
;   assert.quiet_eval			= 0
;   assert.warning			= On

[Ingres II]
   ingres.allow_persistent		= On
   ingres.default_database		=
   ingres.default_password		=
   ingres.default_user			=
   ingres.max_links			= -1
   ingres.max_persistent		= -1

[Verisign Payflow Pro]
   pfpro.defaulthost			= "test-payflow.verisign.com"
   pfpro.defaultport			= 443
   pfpro.defaulttimeout			= 180
;   pfpro.proxyaddress			=
;   pfpro.proxylogon			=
;   pfpro.proxypassword			=
;   pfpro.proxyport			=

[com]
;   com.allow_dcom			= true
;   com.autoregister_casesensitive	= false
;   com.autoregister_typelib		= true
;   com.autoregister_verbose		= true
;   com.typelib_file			=

[mbstring]
;   mbstring.detect_order		= auto
;   mbstring.encoding_translation	= Off
;   mbstring.func_overload		= 0
;   mbstring.http_input			= auto
;   mbstring.http_output		= SJIS
;   mbstring.internal_encoding		= EUC-JP
;   mbstring.language			= Japanese
;   mbstring.substitute_character	= none;

[FrontBase]
;   fbsql.allow_persistent		= On
;   fbsql.autocommit			= On
;   fbsql.batchSize			= 1000
;   fbsql.default_database		=
;   fbsql.default_database_password	=
;   fbsql.default_host			=
;   fbsql.default_password		=
;   fbsql.default_user			= "_SYSTEM"
;   fbsql.generate_warnings		= Off
;   fbsql.max_connections		= 128
;   fbsql.max_links			= 128
;   fbsql.max_persistent		= -1
;   fbsql.max_results			= 128

[exif]
;   exif.encode_unicode			= ISO-8859-15
;   exif.decode_unicode_motorola	= UCS-2BE
;   exif.decode_unicode_intel		= UCS-2LE
;   exif.encode_jis			=
;   exif.decode_jis_motorola		= JIS
;   exif.decode_jis_intel		= JIS

[Tidy]
   tidy.clean_output			= Off
;   tidy.default_config			= /usr/local/lib/php/default.tcfg

[soap]
   soap.wsdl_cache_dir			= "/tmp"
   soap.wsdl_cache_enabled		= 1
   soap.wsdl_cache_ttl			= 86400
From pwebb at webbenabled.com  Thu Jun 15 17:47:01 2006
From: pwebb at webbenabled.com (Webb, Paul)
Date: Thu Jun 15 17:47:06 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <44909B3D.8060506@webbenabled.com>
References: <20060614215323.XHTS2189.ibm63aec.bellsouth.net@ronscomputer>
	<44909B3D.8060506@webbenabled.com>
Message-ID: <449180F5.8060907@webbenabled.com>

Webb, Paul wrote:
> Ron Ackerman wrote:
>> What version of PHP are you using and is this on the linux or win box
>> or both. Can we see your php.ini? Can you do a phpinfo();
>>  
>> Ron
All,
    Here's something additional for you to consider. It may eliminate a
few questions you all may have...

Go to http://www.journalcommunity.com:8084 -- this is Xitami running
JournalCommunity from C:\Websites\JournalCommunity\wwwroot on my SBS
server, and it points at index.php, which is just a redirector to
Magnus's website. The redirect won't work.

Then go to http://www.journalcommunity.com:8080 - this is IIS running
JournalCommunity from the same location --
C:\Websites\JournalCommunity\wwwroot -- also on my SBS server. It also
points at index.php. It works.

Both Xitami and IIS are using PHP v5.1.2 from C:\PHP ...

Very, very weird. If IIS didn't run so slow, have so many problems and
caveats, and wasn't made by Microsoft, I might consider running it
instead. Unfortunately since it has all those things, I won't. :-/

Has anyone tried thttpd on Linux?

Thanks all!
-- 
Paul Webb
WebbEnabled Solutions, LLC (vCard
<http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf>)
pwebb@webbenabled.com <mailto:pwebb@webbenabled.com> (PGP/GPG Encryption
Capable)
http://www.webbenabled.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060615/5e717619/attachment.htm
From ronackgen01 at bellsouth.net  Thu Jun 15 23:21:07 2006
From: ronackgen01 at bellsouth.net (Ron Ackerman)
Date: Thu Jun 15 23:18:31 2006
Subject: [Xitami] Xitami PHP Header Redirect issues...
In-Reply-To: <449180F5.8060907@webbenabled.com>
Message-ID: <20060615211820.YYFY24666.ibm62aec.bellsouth.net@ronscomputer>

 


   _____  

From: xitami-bounces@lists.xitami.org
[mailto:xitami-bounces@lists.xitami.org] On Behalf Of Webb, Paul
Sent: Thursday, June 15, 2006 11:47 AM
To: Xitami Users General Discussion
Subject: Re: [Xitami] Xitami PHP Header Redirect issues...


Webb, Paul wrote: 

Ron Ackerman wrote: 

What version of PHP are you using and is this on the linux or win box or
both. Can we see your php.ini? Can you do a phpinfo();
 
Ron

All,
    Here's something additional for you to consider. It may eliminate a few
questions you all may have...

Go to HYPERLINK
"http://www.journalcommunity.com:8084"http://www.journalcommunity.com:8084
-- this is Xitami running JournalCommunity from
C:\Websites\JournalCommunity\wwwroot on my SBS server, and it points at
index.php, which is just a redirector to Magnus's website. The redirect
won't work.

Then go to HYPERLINK
"http://www.journalcommunity.com:8080"http://www.journalcommunity.com:8080 -
this is IIS running JournalCommunity from the same location --
C:\Websites\JournalCommunity\wwwroot -- also on my SBS server. It also
points at index.php. It works.

Both Xitami and IIS are using PHP v5.1.2 from C:\PHP ...

Very, very weird. If IIS didn't run so slow, have so many problems and
caveats, and wasn't made by Microsoft, I might consider running it instead.
Unfortunately since it has all those things, I won't. :-/

Has anyone tried thttpd on Linux?

Thanks all!

-- 
Paul Webb
WebbEnabled Solutions, LLC (HYPERLINK
"http://www.webbenabled.com/%7Epwebb/vcard/WebbPaul.vcf"vCard)
HYPERLINK "mailto:pwebb@webbenabled.com"pwebb@webbenabled.com (PGP/GPG
Encryption Capable)
HYPERLINK "http://www.webbenabled.com"http://www.webbenabled.com 


 

In xitami.cfg under (my drive is F you'll need to change it as neeeded.

 
[Filter]
 
#
-------------------------------------------------------------------------
#   CGI configuration section
#
#   This section controls the CGI protocol.
.cfm = f:\cfusion\bin\XiFusion f:\cfusion\bin\cfml.exe
.php = f:\cfusion\bin\XiFusion f:\xitami\php\php.exe
 
.php=f:\xitami\php f:\xitami\php\php.exe
.php3=f:\xitami\php f:\xitami\php\php.exe
.php4=f:\xitami\php f:\xitami\php\php.exe
.phtml=f:\xitami\php f:\xitami\php\php.exe
 
 
 
I seem to remember something about ver 5  not being able to run some
commands that the previous versions did or the commands changed. But bottom
line is if it works in IIS it should work in Xitami. Do you have the above
in your xitami.cfg?
 
  

-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.394 / Virus Database: 268.8.4/364 - Release Date: 6/14/2006
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.imatix.org/pipermail/xitami/attachments/20060615/4e7ba13e/attachment.html
From jglong3 at att.net  Thu Jun 22 23:53:34 2006
From: jglong3 at att.net (jglong3@att.net)
Date: Thu Jun 22 23:53:52 2006
Subject: [Xitami] Unsolicited HTTP GET requests in access.log 
Message-ID: <062220062153.9615.449B115E00065BE40000258F2158766755CC090201040906@att.net>

Hello,,,,,:) :) :)

THANKS for your time, help, and advise,,,,,

Running Xitami V2.5b4 on a Windows 98SE system and all is working as expected,,,mainly very few crashes over the last few months.

I have just noticed that the Xitami ACCESS.Log file is recording some unsolicited HTTP GET requests from several IPs around the world and these contain the same GET request text strings.

An example of one set of GET Requests includes the following:

80.55.242.146 - - [20/Jun/2006:03:02:32 -0600] "GET //README HTTP/1.1" 404 -1 "" "Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)"
80.55.242.146 - - [20/Jun/2006:03:02:34 -0600] "GET /horde//README HTTP/1.1" 404 -1 "" "Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)"
80.55.242.146 - - [20/Jun/2006:03:02:35 -0600] "GET /horde2//README HTTP/1.1" 404 -1 "" "Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)"
80.55.242.146 - - [20/Jun/2006:03:02:36 -0600] "GET /horde3//README HTTP/1.1" 404 -1 "" "Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)"
80.55.242.146 - - [20/Jun/2006:03:02:38 -0600] "GET /horde-3.0.9//README HTTP/1.1" 404 -1 "" "Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)"
80.55.242.146 - - [20/Jun/2006:03:02:39 -0600] "GET /Horde//README HTTP/1.1" 404 -1 "" "Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)"

For the cases found related to the above example, when they start, it is the same set of requests but from several different IPs.

The above example appears to be from an IP in "RIPE Network Coordination Centre" and specifically from: 

inetnum:         80.55.242.144 - 80.55.242.147
netname:         PRYWTNELO
descr:           PRYWTNE LICEUM OGOLNOKSZTALCACE
descr:           SLUPSK
descr:           POLAND

Some investigation related to HTTP Get request and /HORDE text string in the GET request, 3 related items have been found:

       1. Macfee reports a problem with an HTTP GET in one of their applications
       2. Horde is reported as an OPEN source type development.
       3. Horde is reported as an Email type application.

Before I noticed the above item 1 and then considered these HTTP GET requests may be related to some Xitami crashes, I had already deleted the access log files related to the times listed in the crash.log file.

Has anyone had any experience related to unsolicted GET requests and Xitami crashes that may be related to item 1 above????

 
Again, thank you for your time, help, and advise!!!   :) :)

Jerry

From rolinger1 at hotmail.com  Fri Jun 23 00:11:07 2006
From: rolinger1 at hotmail.com (rpo)
Date: Fri Jun 23 00:13:39 2006
Subject: [Xitami] Disuccsion: Xitami load testing
Message-ID: <BAY105-DAV163D84CD5BCE7522BCFBD3F8850@phx.gbl>

Hello all -

I am running standard version 2.4d9 - it seems to be very stable for me and
I have very little to no crashes with this version over the last several
years.  However, I will be starting up a business soon that potentially
could have thousands of hits a day, and hundreds of Megabits, if not a few
gigabits, of traffic per day.  There will only be two domains on the server,
each domain will be bound to its own IP address and each IP address will
have its own copy of Xitami running on it.  Each Xitami won't have any
virtual domains attached to it.  I am interested in knowning others
experiences with load issues, connection issues, etc etc. with Xitami?

Where can I expect problems?  How far can Xitami be pushed before it boggles
down, slows to a crawl or utlimately crashes?  What areas of the Xitami
config - or even on Win2K Adv Server - can I optimize to get the most out of
this server?  To handle the most load?

I have a pretty robust physical server:
    Pentium 4, 2.8Ghz
    4 gig of DDR2 5300 memory (800mhz)
    800Gig harddrive storage mirrored (so 800Gb/800Gb)
    SCSI controller
    Seperate OS hard drive
    Dual Gigbit NIC cards bound together sharing same IP address
    Win2K Advanced Server
    Xitami v2.4d9

Hopefully this starts up some good dialogue and we can all begin to get a
perspective on Xitami's performance levels.

-Russel

From mw at 9000.org  Fri Jun 23 00:27:04 2006
From: mw at 9000.org (Magnus Wedberg)
Date: Fri Jun 23 00:28:12 2006
Subject: [Xitami] Unsolicited HTTP GET requests in access.log 
In-Reply-To: <062220062153.9615.449B115E00065BE40000258F2158766755CC090201040906@att.net>
Message-ID: <449B3558.3740.36F3F18@mw.9000.org>

> Has anyone had any experience related to unsolicted GET requests and
> Xitami crashes that may be related to item 1 above????

Infected computers trying to spread by just brute force attacking 
known vulnerabilities. Everyone gets tons of those. Don't worry. 
Crashes are because of something else... :-) 
 
-- 
Magnus Wedberg
http://www.magnuswedberg.com/  -- NEW and improved!
mw AT 9000.org
Warning! Objects in viewfinder may be closer than they appear.



From fuzzydog at whiteshepherd.net  Fri Jun 23 01:06:35 2006
From: fuzzydog at whiteshepherd.net (WhiteShepherd)
Date: Fri Jun 23 02:18:55 2006
Subject: [Xitami] Disuccsion: Xitami load testing
In-Reply-To: <BAY105-DAV163D84CD5BCE7522BCFBD3F8850@phx.gbl>
References: <BAY105-DAV163D84CD5BCE7522BCFBD3F8850@phx.gbl>
Message-ID: <449B227B.30202@whiteshepherd.net>

I have used Xitami for 6 years now in a production environment.  
Currently I run Apache2 and Xitami 2.4d9 (the most stable version for me 
so far) on a win23k server.  There are advantages and disadvantages to 
both.  But both serve my needs.  I push in average around 800-1000gigs 
upstream a month in hits (that's a LOT).  The reason I run both servers 
is they are both efficient in their own respects.  Reasons for Apache: 
Currently I host over 1600+ websites each with their own domains.  On 
volumes such as this Apache's virtual host is MUCH more efficient than 
MIS or Xitami.  What Apache does is rather than having a hosting config 
and restart for each host.  It compares the incoming domain name to a 
directory in a specified path.  Ie www.isme.com coming in on the correct 
IP routes to c:\html\hosts\isme\  or c:\html\hosts\isme.com\   depending 
on how you check the domain.  This allows you to add hosts without a 
server restart (though it will take some study to get everything the way 
you want it) and saves on performance/memory. 

I run Xitami for performance on key applications.  Particularily Xitami 
seems to execute perl scripts faster than Apache but at a cost of heavy 
memory per call to a perl script (each perl request goes to a perl.exe 
instead of command requests being chained to 1 interpreter).  I run 
Xitami in turbo mode (for my forums).  My sites main forums (a perl 
Ikonboard) run off of Xitami.  I also have Xitami serving subdomains 
that get massive hits.   For example when Apache hosts a file it does a 
lot more file IO (checking) that can use up CPU resources.  Xitami on 
the other hand just serves the file and is much more efficient.  My main 
page rotates a art gallery so for efficiency I have Xitami host that 
subdomain that those images link too.  Hundreds of static hits flood 
into to that domain which Xitami can more efficiently serve.

When you get into volume hosting it's all about efficiency and 
everything you can do to improve it.  Myself I ran win2k for 2 years.  
It proved very stable but the performance of win2k3 is better.  Some 
tips turn on EVERY windows service you are not using (why give CPU and 
memory to something just sitting around?).  There are lots of tips on 
the web for this.  Turn off 8 character file name creation on long file 
names!  This will cut down a LOT of IO and avoid hands on dirs with 
thousands of files/directories.  From personal experience Xitami and 
Apache seem to run better as a console than a service under heavy load.  
I have batch files to loop them on restart.

If you start just running only Xitami (I started this way).  Then for 
efficiency I would just have 1 copy of Xitami running and have Xitami 
host the two domains to their respective directories.

  Gene



rpo wrote:
> Hello all -
>
> I am running standard version 2.4d9 - it seems to be very stable for me and
> I have very little to no crashes with this version over the last several
> years.  However, I will be starting up a business soon that potentially
> could have thousands of hits a day, and hundreds of Megabits, if not a few
> gigabits, of traffic per day.  There will only be two domains on the server,
> each domain will be bound to its own IP address and each IP address will
> have its own copy of Xitami running on it.  Each Xitami won't have any
> virtual domains attached to it.  I am interested in knowning others
> experiences with load issues, connection issues, etc etc. with Xitami?
>
> Where can I expect problems?  How far can Xitami be pushed before it boggles
> down, slows to a crawl or utlimately crashes?  What areas of the Xitami
> config - or even on Win2K Adv Server - can I optimize to get the most out of
> this server?  To handle the most load?
>
> I have a pretty robust physical server:
>     Pentium 4, 2.8Ghz
>     4 gig of DDR2 5300 memory (800mhz)
>     800Gig harddrive storage mirrored (so 800Gb/800Gb)
>     SCSI controller
>     Seperate OS hard drive
>     Dual Gigbit NIC cards bound together sharing same IP address
>     Win2K Advanced Server
>     Xitami v2.4d9
>
> Hopefully this starts up some good dialogue and we can all begin to get a
> perspective on Xitami's performance levels.
>
> -Russel
>
>
> --
> Xitami Users Mailing List -- For Xitami support
> To unsubscribe: http://lists.xitami.org/mailman/listinfo/xitami
>
>   

From rolinger1 at hotmail.com  Fri Jun 23 06:11:35 2006
From: rolinger1 at hotmail.com (RPO)
Date: Fri Jun 23 06:11:46 2006
Subject: [Xitami] Disuccsion: Xitami load testing
References: <BAY105-DAV163D84CD5BCE7522BCFBD3F8850@phx.gbl>
	<449B227B.30202@whiteshepherd.net>
Message-ID: <BAY105-DAV165AA99BC4CB599DC14C61F87A0@phx.gbl>

Gene,

Awesome info and commentary.  Your bandwidth utilization will blow mine away
for quite sometime...I anticipate up to about 100gig per month of served
content for a while.  Is all this running on one physical server or do you
have this spread out over a cluster of servers?  How much bandwidth do you
think your Xitami serves up vs the Apache?  How many hits are taking a month
on the Xitami server...I imagine my hits will far exceed my bandwidth.  The
content served is roughly 15-25k per page, so to push 100Gig a month means
my server will be serving up 10s of thousands of pages per month, or 10s of
thousands hits.

As far as Xitami's call to perl.  I have heard of what you mentioned, each
new script spawns another instance of perl, sucking up memory in the
process.  As oppossed to Apache which runs one instance of perl.   Are there
any Xitami settings I need be aware that would optimize my servers
performance?  I already have my Win2K server pretty locked down as far as
running needless services.  But I will go through and see if I can't tighten
it down anymore.  Is it possible to turn off 8 character file naming in
Win2K - where do I do that at?

Great feedback, thanks again.

Russel

PS: Anyone else have stuff to share?

----- Original Message ----- 
From: "WhiteShepherd" <fuzzydog@whiteshepherd.net>
To: "Xitami Users General Discussion" <xitami@lists.xitami.org>
Sent: Thursday, June 22, 2006 4:06 PM
Subject: Re: [Xitami] Disuccsion: Xitami load testing


> I have used Xitami for 6 years now in a production environment.
> Currently I run Apache2 and Xitami 2.4d9 (the most stable version for me
> so far) on a win23k server.  There are advantages and disadvantages to
> both.  But both serve my needs.  I push in average around 800-1000gigs
> upstream a month in hits (that's a LOT).  The reason I run both servers
> is they are both efficient in their own respects.  Reasons for Apache:
> Currently I host over 1600+ websites each with their own domains.  On
> volumes such as this Apache's virtual host is MUCH more efficient than
> MIS or Xitami.  What Apache does is rather than having a hosting config
> and restart for each host.  It compares the incoming domain name to a
> directory in a specified path.  Ie www.isme.com coming in on the correct
> IP routes to c:\html\hosts\isme\  or c:\html\hosts\isme.com\   depending
> on how you check the domain.  This allows you to add hosts without a
> server restart (though it will take some study to get everything the way
> you want it) and saves on performance/memory.
>
> I run Xitami for performance on key applications.  Particularily Xitami
> seems to execute perl scripts faster than Apache but at a cost of heavy
> memory per call to a perl script (each perl request goes to a perl.exe
> instead of command requests being chained to 1 interpreter).  I run
> Xitami in turbo mode (for my forums).  My sites main forums (a perl
> Ikonboard) run off of Xitami.  I also have Xitami serving subdomains
> that get massive hits.   For example when Apache hosts a file it does a
> lot more file IO (checking) that can use up CPU resources.  Xitami on
> the other hand just serves the file and is much more efficient.  My main
> page rotates a art gallery so for efficiency I have Xitami host that
> subdomain that those images link too.  Hundreds of static hits flood
> into to that domain which Xitami can more efficiently serve.
>
> When you get into volume hosting it's all about efficiency and
> everything you can do to improve it.  Myself I ran win2k for 2 years.
> It proved very stable but the performance of win2k3 is better.  Some
> tips turn on EVERY windows service you are not using (why give CPU and
> memory to something just sitting around?).  There are lots of tips on
> the web for this.  Turn off 8 character file name creation on long file
> names!  This will cut down a LOT of IO and avoid hands on dirs with
> thousands of files/directories.  From personal experience Xitami and
> Apache seem to run better as a console than a service under heavy load.
> I have batch files to loop them on restart.
>
> If you start just running only Xitami (I started this way).  Then for
> efficiency I would just have 1 copy of Xitami running and have Xitami
> host the two domains to their respective directories.
>
>   Gene
>
>
>
> rpo wrote:
> > Hello all -
> >
> > I am running standard version 2.4d9 - it seems to be very stable for me
and
> > I have very little to no crashes with this version over the last several
> > years.  However, I will be starting up a business soon that potentially
> > could have thousands of hits a day, and hundreds of Megabits, if not a
few
> > gigabits, of traffic per day.  There will only be two domains on the
server,
> > each domain will be bound to its own IP address and each IP address will
> > have its own copy of Xitami running on it.  Each Xitami won't have any
> > virtual domains attached to it.  I am interested in knowning others
> > experiences with load issues, connection issues, etc etc. with Xitami?
> >
> > Where can I expect problems?  How far can Xitami be pushed before it
boggles
> > down, slows to a crawl or utlimately crashes?  What areas of the Xitami
> > config - or even on Win2K Adv Server - can I optimize to get the most
out of
> > this server?  To handle the most load?
> >
> > I have a pretty robust physical server:
> >     Pentium 4, 2.8Ghz
> >     4 gig of DDR2 5300 memory (800mhz)
> >     800Gig harddrive storage mirrored (so 800Gb/800Gb)
> >     SCSI controller
> >     Seperate OS hard drive
> >     Dual Gigbit NIC cards bound together sharing same IP address
> >     Win2K Advanced Server
> >     Xitami v2.4d9
> >
> > Hopefully this starts up some good dialogue and we can all begin to get
a
> > perspective on Xitami's performance levels.
> >
> > -Russel
> >
> >
> > --
> > Xitami Users Mailing List -- For Xitami support
> > To unsubscribe: http://lists.xitami.org/mailman/listinfo/xitami
> >
> >
>
>
> --
> Xitami Users Mailing List -- For Xitami support
> To unsubscribe: http://lists.xitami.org/mailman/listinfo/xitami
>

From jglong3 at att.net  Fri Jun 23 19:04:20 2006
From: jglong3 at att.net (jglong3@att.net)
Date: Fri Jun 23 19:04:29 2006
Subject: [Xitami] Unsolicited HTTP GET requests in access.log 
Message-ID: <062320061704.14669.449C1F14000371F60000394D2158766755CC090201040906@att.net>

Hello Magnus .....   :) :)

THANKS for your Reply!!!!

OK and that's what I thought,,,,,,,the error logs I still have show these events do not relate to any Xitmi crashes or Denial of Service. In these cases it seems that these GET Requests are "FISHING" exercises and present no problems. 

The McAfee situation is reported by Internet Security Systems at:

            http://xforce.iss.net/xforce/xfdb/11559

This is what raised my suspicion related to GET requests and Xitami. What I have seen in the log files shows Xitami processed these without any problem.

THANKS for your time, help, and advise!!!!!


Jerry



-------------- Original message from "Magnus Wedberg" <mw@9000.org>: -------------- 


> > Has anyone had any experience related to unsolicted GET requests and 
> > Xitami crashes that may be related to item 1 above???? 
> 
> Infected computers trying to spread by just brute force attacking 
> known vulnerabilities. Everyone gets tons of those. Don't worry. 
> Crashes are because of something else... :-) 
> 
> -- 
> Magnus Wedberg 
> http://www.magnuswedberg.com/ -- NEW and improved! 
> mw AT 9000.org 
> Warning! Objects in viewfinder may be closer than they appear. 
> 
> 
> 
> 
> -- 
> Xitami Users Mailing List -- For Xitami support 
> To unsubscribe: http://lists.xitami.org/mailman/listinfo/xitami 

From paulpp at iname.com  Fri Jun 23 19:40:02 2006
From: paulpp at iname.com (Pavel Podvoiski)
Date: Fri Jun 23 19:40:14 2006
Subject: [Xitami] FYI: Compilable src (Linux, BSD), prebuild Linux binaries
Message-ID: <20060623174002.77F67101DC@ws1-3.us4.outblaze.com>

Hi all!
After years, I'm back :)

Sources. Compiled and tested on Linux and NetBSD.
    http://www.geocities.com/zebra9.geo/xitami-2.4d11-src.zip

Linux binary. Should work for all distros.
    http://www.geocities.com/zebra9.geo/xitami-2.4d11-linux.zip

-- 
___________________________________________________
Play 100s of games for FREE! http://games.mail.com/

From paul_osze at comcast.net  Mon Jun 26 00:45:28 2006
From: paul_osze at comcast.net (Paul Osze)
Date: Mon Jun 26 00:45:27 2006
Subject: [Xitami] LRWP and HTTP_REFERER
Message-ID: <449F1208.1060403@comcast.net>

I've combed through the archives and have seen this issue come up
in relation to PHP as well. Namely, Xitami does not see to be passing
the full HTTP_REFERER value to the CGI environment (or the LRWP
environment).

Is there any way to get the full HTTP_REFERER (including query string
info passed after the ? in the url) in an LRWP process? Here is the C-code
snippet I've been using:

  for (symbol=lrwp.cgi->symbols; symbol; symbol=symbol->next) {
    if(strcmp(symbol->name,"PATH_INFO") == 0) { 
strcpy(path_info,symbol->value); }
    if(strcmp(symbol->name,"HTTP_REFERER") == 0) { 
strcpy(http_referer,symbol->value); }
    if(strcmp(symbol->name,"SERVER_NAME") == 0) { 
strcpy(server_name,symbol->value); }
    if(strcmp(symbol->name,"HTTP_USER_AGENT") == 0) { 
strcpy(http_user_agent,symbol->value); }
    if(strcmp(symbol->name,"HTTP_COOKIE") == 0) { 
strcpy(http_cookie,symbol->value); }
    if(strcmp(symbol->name,"REMOTE_ADDR") == 0) { 
strcpy(remote_addr,symbol->value); }
  }




From paul_osze at comcast.net  Mon Jun 26 01:49:23 2006
From: paul_osze at comcast.net (Paul Osze)
Date: Mon Jun 26 01:49:21 2006
Subject: [Xitami] LRWP, CGI and HTTP_REFERER
Message-ID: <449F2103.1060605@comcast.net>

Okay, looks like I answered my own question.

Xitami does not pass the query string portion of http-referer by design.

 From smt/smthttpl.c:

            /*  It's possible that the Referer: field contains an URL
             *  followed by ? and a whole long argument...  We don't want
             *  that stuff.  Get rid of it.  (But save it all first.)
             */
            if (streq (header_name, "referer")) {
                mem_strfree (&p_http-> referrer);
                p_http-> referrer = mem_strdup (header_value);
                if (strchr (header_value, '?') != NULL)
                    *strchr (header_value, '?') = '\0';
            }

To fix this, I just commented out the stripping statement and recompiled:

            /*  It's possible that the Referer: field contains an URL
             *  followed by ? and a whole long argument...  We don't want
             *  that stuff.  Get rid of it.  (But save it all first.)
             */
            if (streq (header_name, "referer")) {
                mem_strfree (&p_http-> referrer);
                p_http-> referrer = mem_strdup (header_value);
               /*
                if (strchr (header_value, '?') != NULL)
                    *strchr (header_value, '?') = '\0';
               */
            }

Do this, and you'll be able to get the full HTTP-REFERER url in CGI, 
PHP, LRWP, etc.

Hope this helps anyone else who's been stumped by this.

From j.torrance at earthlink.net  Mon Jun 26 02:55:50 2006
From: j.torrance at earthlink.net (John Torrance)
Date: Mon Jun 26 02:56:38 2006
Subject: [Xitami] LRWP, CGI and HTTP_REFERER
In-Reply-To: <449F2103.1060605@comcast.net>
References: <449F2103.1060605@comcast.net>
Message-ID: <449F3096.90901@earthlink.net>

Wow, thanks!  I was completely stumped by this about 6 months ago.    I 
have since moved my site to an Apache host since it outgrew my 
DSL/Desktop setup, and that host was passing the complete Referer, but I 
still host a few of my sites on my own machine so this may come in handy 
some day.

John


Paul Osze wrote:

> Okay, looks like I answered my own question.
>
> Xitami does not pass the query string portion of http-referer by design.
>
> From smt/smthttpl.c:
>
>            /*  It's possible that the Referer: field contains an URL
>             *  followed by ? and a whole long argument...  We don't want
>             *  that stuff.  Get rid of it.  (But save it all first.)
>             */
>            if (streq (header_name, "referer")) {
>                mem_strfree (&p_http-> referrer);
>                p_http-> referrer = mem_strdup (header_value);
>                if (strchr (header_value, '?') != NULL)
>                    *strchr (header_value, '?') = '\0';
>            }
>
> To fix this, I just commented out the stripping statement and recompiled:
>
>            /*  It's possible that the Referer: field contains an URL
>             *  followed by ? and a whole long argument...  We don't want
>             *  that stuff.  Get rid of it.  (But save it all first.)
>             */
>            if (streq (header_name, "referer")) {
>                mem_strfree (&p_http-> referrer);
>                p_http-> referrer = mem_strdup (header_value);
>               /*
>                if (strchr (header_value, '?') != NULL)
>                    *strchr (header_value, '?') = '\0';
>               */
>            }
>
> Do this, and you'll be able to get the full HTTP-REFERER url in CGI, 
> PHP, LRWP, etc.
>
> Hope this helps anyone else who's been stumped by this.
>
>
> -- 
> Xitami Users Mailing List -- For Xitami support
> To unsubscribe: http://lists.xitami.org/mailman/listinfo/xitami
>

