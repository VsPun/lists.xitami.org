<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2900.3243&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Well&nbsp;I&nbsp;have&nbsp;figured&nbsp;out&nbsp;how&nbsp;to&nbsp;do&nbsp;script&nbsp;error&nbsp;<br>
handling&nbsp;with&nbsp;Perl&nbsp;and&nbsp;PHP.&amp;nbsp;&nbsp;But&nbsp;the&nbsp;logs&nbsp;don't&nbsp;reflect&nbsp;what&nbsp;is&nbsp;going&nbsp;on&nbsp;<br>
because&nbsp;if&nbsp;the&nbsp;script&nbsp;exists,&nbsp;Xitami&nbsp;returns&nbsp;a&nbsp;'200&nbsp;OK'.&amp;nbsp;&nbsp;Once&nbsp;the&nbsp;script&nbsp;<br>
is&nbsp;executed,&nbsp;the&nbsp;script&nbsp;determines&nbsp;if&nbsp;a&nbsp;301&nbsp;or&nbsp;404&nbsp;(or&nbsp;which&nbsp;ever&nbsp;code&nbsp;is&nbsp;<br>
needed)&nbsp;and&nbsp;returns&nbsp;that&nbsp;to&nbsp;the&nbsp;browser.&amp;nbsp;&nbsp;So&nbsp;the&nbsp;log&nbsp;says&nbsp;200,&nbsp;but&nbsp;the&nbsp;HTML&nbsp;<br>
Response&nbsp;Headers&nbsp;show&nbsp;404.&amp;nbsp;&nbsp;How&nbsp;can&nbsp;this&nbsp;be&nbsp;corrected?&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;In&nbsp;addition,&nbsp;everything&nbsp;is&nbsp;coming&nbsp;back&nbsp;as&nbsp;HTTP/1.0&nbsp;<br>
-&nbsp;the&nbsp;documentation&nbsp;says&nbsp;Xitami&nbsp;Server&nbsp;supports&nbsp;1.0,&nbsp;but&nbsp;then&nbsp;goes&nbsp;on&nbsp;to&nbsp;say&nbsp;<br>
Virtual&nbsp;Hosts&nbsp;support&nbsp;HTTP/1.1&nbsp;-&nbsp;why&nbsp;would&nbsp;the&nbsp;main&nbsp;server&nbsp;support&nbsp;one&nbsp;thing&nbsp;<br>
versus&nbsp;the&nbsp;virtual&nbsp;servers&nbsp;supporting&nbsp;another?&amp;nbsp;&nbsp;&lt;A&nbsp;<br>
href=&quot;http://legacy.imatix.com/html/xitami/&quot;&gt;http://legacy.imatix.com/html/xitami/&lt;/A&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Thanks&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-RIGHT:&nbsp;0px;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;style=&quot;BACKGROUND:&nbsp;#e4e4e4;&nbsp;FONT:&nbsp;10pt&nbsp;arial;&nbsp;font-color:&nbsp;black&quot;&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;&lt;A&nbsp;title=martin@bleisteiner.net&nbsp;href=&quot;mailto:martin@bleisteiner.net&quot;&gt;Martin&nbsp;<br>
&nbsp;&nbsp;Bleisteiner&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;&lt;A&nbsp;title=xitami@lists.xitami.org&nbsp;<br>
&nbsp;&nbsp;href=&quot;mailto:xitami@lists.xitami.org&quot;&gt;Xitami&nbsp;Users&nbsp;General&nbsp;Discussion&lt;/A&gt;&nbsp;<br>
&nbsp;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Tuesday,&nbsp;February&nbsp;19,&nbsp;2008&nbsp;11:30&nbsp;<br>
&nbsp;&nbsp;PM&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;Re:&nbsp;[Xitami]&nbsp;301&nbsp;error&nbsp;<br>
&nbsp;&nbsp;handling&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;What&nbsp;about&nbsp;the&nbsp;following&nbsp;idea&nbsp;-&nbsp;I&nbsp;don't&nbsp;know&nbsp;if&nbsp;<br>
&nbsp;&nbsp;it&nbsp;really&nbsp;works:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Make&nbsp;the&nbsp;404&nbsp;Error&nbsp;Handler&nbsp;be&nbsp;handled&nbsp;by&nbsp;<br>
&nbsp;&nbsp;PHP.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Write&nbsp;a&nbsp;PHP&nbsp;script&nbsp;that&nbsp;modifies&nbsp;the&nbsp;header&nbsp;to&nbsp;<br>
&nbsp;&nbsp;301&nbsp;instead&nbsp;404.&nbsp;You&nbsp;will&nbsp;need&nbsp;a&nbsp;script&nbsp;anyway&nbsp;for&nbsp;assigning&nbsp;the&nbsp;correct&nbsp;new&nbsp;<br>
&nbsp;&nbsp;path&nbsp;according&nbsp;to&nbsp;the&nbsp;old&nbsp;path.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;remember&nbsp;there&nbsp;was&nbsp;the&nbsp;question&nbsp;how&nbsp;to&nbsp;use&nbsp;404&nbsp;<br>
&nbsp;&nbsp;with&nbsp;PHP&nbsp;here&nbsp;a&nbsp;few&nbsp;weeks&nbsp;ago.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Martin&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;BLOCKQUOTE&nbsp;<br>
&nbsp;&nbsp;style=&quot;PADDING-RIGHT:&nbsp;0px;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;style=&quot;BACKGROUND:&nbsp;#e4e4e4;&nbsp;FONT:&nbsp;10pt&nbsp;arial;&nbsp;font-color:&nbsp;black&quot;&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;A&nbsp;title=rolinger1@hotmail.com&nbsp;href=&quot;mailto:rolinger1@hotmail.com&quot;&gt;Russel&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Olinger&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;&lt;A&nbsp;title=xitami@lists.xitami.org&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;mailto:xitami@lists.xitami.org&quot;&gt;Xitami&nbsp;Users&nbsp;General&nbsp;Discussion&lt;/A&gt;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Wednesday,&nbsp;February&nbsp;20,&nbsp;2008&nbsp;3:50&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;AM&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;[Xitami]&nbsp;301&nbsp;error&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;handling&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Hey&nbsp;all,&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;The&nbsp;&quot;errors&quot;&nbsp;section&nbsp;of&nbsp;the&nbsp;Xitami&nbsp;admin&nbsp;has&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;predefined&nbsp;values&nbsp;for&nbsp;400,&nbsp;401,&nbsp;404&nbsp;errors&nbsp;etc,&nbsp;but&nbsp;nothing&nbsp;for&nbsp;301&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;redirects.&amp;nbsp;&nbsp;I&nbsp;am&nbsp;in&nbsp;the&nbsp;process&nbsp;of&nbsp;renaming&nbsp;my&nbsp;static&nbsp;links&nbsp;from&nbsp;ID&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;based&nbsp;links&nbsp;such&nbsp;as&nbsp;/postShow/3/26/0/383472&nbsp;to&nbsp;name&nbsp;based&nbsp;links&nbsp;like&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;/postShow/chat-groups/local-politics/page-0/id-383472&nbsp;or&nbsp;something&nbsp;to&nbsp;that&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;affect.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;However,&nbsp;I&nbsp;don't&nbsp;want&nbsp;search&nbsp;engines&nbsp;such&nbsp;as&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;google&nbsp;or&nbsp;yahoo&nbsp;that&nbsp;have&nbsp;already&nbsp;crawled&nbsp;and&nbsp;indexed&nbsp;all&nbsp;the&nbsp;ID&nbsp;based&nbsp;links&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;error&nbsp;out,&nbsp;or&nbsp;drop&nbsp;the&nbsp;indexed&nbsp;link,&nbsp;after&nbsp;I&nbsp;make&nbsp;the&nbsp;change&nbsp;-&nbsp;I&nbsp;have&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;over&nbsp;100,000&nbsp;indexed&nbsp;pages.&amp;nbsp;&nbsp;This&nbsp;is&nbsp;more&nbsp;important&nbsp;for&nbsp;the&nbsp;search&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;engines&nbsp;than&nbsp;it&nbsp;is&nbsp;for&nbsp;the&nbsp;users.&nbsp;If&nbsp;the&nbsp;search&nbsp;engine&nbsp;sees&nbsp;that&nbsp;the&nbsp;ID&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;based&nbsp;links&nbsp;are&nbsp;gone&nbsp;without&nbsp;info&nbsp;one&nbsp;where&nbsp;they&nbsp;have&nbsp;gone&nbsp;to,&nbsp;they&nbsp;will&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;drop&nbsp;all&nbsp;the&nbsp;indexed&nbsp;links&nbsp;and&nbsp;it&nbsp;could&nbsp;take&nbsp;weeks&nbsp;if&nbsp;not&nbsp;months&nbsp;for&nbsp;them&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;recrawl&nbsp;the&nbsp;new&nbsp;links.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Other&nbsp;webservers&nbsp;such&nbsp;as&nbsp;apache&nbsp;can&nbsp;use&nbsp;301&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;redirects&nbsp;to&nbsp;basically&nbsp;tell&nbsp;the&nbsp;SE,&nbsp;the&nbsp;user&nbsp;or&nbsp;the&nbsp;browser,&nbsp;that&nbsp;although&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;old&nbsp;links&nbsp;have&nbsp;changed&nbsp;the&nbsp;content&nbsp;still&nbsp;exists&nbsp;-&nbsp;its&nbsp;just&nbsp;simply&nbsp;at&nbsp;a&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;location.&amp;nbsp;&nbsp;The&nbsp;SEs&nbsp;will&nbsp;simply&nbsp;change&nbsp;the&nbsp;index&nbsp;link&nbsp;versus&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;dropping&nbsp;it&nbsp;completely.&amp;nbsp;&nbsp;Doing&nbsp;a&nbsp;simple&nbsp;&quot;redirect=0&quot;&nbsp;in&nbsp;the&nbsp;HEAD&nbsp;or&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;JS&nbsp;&quot;location.href=...&quot;&nbsp;isn't&nbsp;good&nbsp;enough&nbsp;because&nbsp;to&nbsp;a&nbsp;search&nbsp;engine&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;original&nbsp;page&nbsp;still&nbsp;exists&nbsp;but&nbsp;now&nbsp;its&nbsp;content&nbsp;is&nbsp;simply&nbsp;gone&nbsp;or&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;empty.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;define&nbsp;errors&nbsp;or&nbsp;anyone&nbsp;know&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;a&nbsp;way&nbsp;to&nbsp;code&nbsp;in&nbsp;301&nbsp;redirects&nbsp;at&nbsp;the&nbsp;server&nbsp;level?&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Thanks.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;HR&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;/P&gt;&lt;BR&gt;--&lt;BR&gt;Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;BR&gt;To&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;unsubscribe:&nbsp;http://lists.xitami.org/mailman/listinfo/xitami&lt;/BLOCKQUOTE&gt;<br>
&nbsp;&nbsp;&lt;P&gt;<br>
&nbsp;&nbsp;&lt;HR&gt;<br>
<br>
&nbsp;&nbsp;&lt;P&gt;&lt;/P&gt;&lt;BR&gt;--&lt;BR&gt;Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;BR&gt;To&nbsp;<br>
&nbsp;&nbsp;unsubscribe:&nbsp;<br>
http://lists.xitami.org/mailman/listinfo/xitami&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
