<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;http-equiv=Content-Type&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;content=&quot;MSHTML&nbsp;6.00.2800.1515&quot;&nbsp;name=GENERATOR&gt;<br>
&lt;STYLE&gt;&lt;/STYLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;bgColor=#ffffff&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;tested&nbsp;Windows&nbsp;Apache&nbsp;(port&nbsp;8080)&nbsp;and&nbsp;Windows&nbsp;<br>
Xitami&nbsp;(port&nbsp;80),&nbsp;running&nbsp;identical&nbsp;upload&nbsp;scripts.&amp;nbsp;&nbsp;The&nbsp;upload&nbsp;form&nbsp;passes&nbsp;<br>
all&nbsp;the&nbsp;raw&nbsp;POST&amp;nbsp;data&nbsp;to&nbsp;upload.pl&nbsp;and&nbsp;an&nbsp;onSubmit&nbsp;calls&nbsp;a&nbsp;popup&nbsp;window&nbsp;<br>
running&nbsp;progress.pl.&amp;nbsp;&nbsp;The&nbsp;upload.pl&nbsp;reads&nbsp;in&nbsp;all&nbsp;the&nbsp;raw&nbsp;POST&nbsp;data&nbsp;through&nbsp;<br>
a&nbsp;standard&nbsp;&quot;while&nbsp;(&amp;lt;STDIN&amp;gt;)&quot;,&nbsp;during&nbsp;the&nbsp;while&nbsp;the&nbsp;script&nbsp;writes&nbsp;<br>
&quot;bytesReadIn&nbsp;of&nbsp;totalBytes&quot;&nbsp;to&nbsp;a&nbsp;temp&nbsp;file,&nbsp;every&nbsp;8K&nbsp;of&nbsp;read&nbsp;in&nbsp;raw&nbsp;data&nbsp;the&nbsp;<br>
script&nbsp;flushes&nbsp;the&nbsp;buffer&nbsp;to&nbsp;the&nbsp;temp&nbsp;file&nbsp;to&nbsp;ensure&nbsp;its&nbsp;being&nbsp;written&nbsp;to&nbsp;<br>
properly.&amp;nbsp;&nbsp;While&nbsp;this&nbsp;the&nbsp;data&nbsp;is&nbsp;being&nbsp;read&nbsp;in&nbsp;and&nbsp;the&nbsp;temp&nbsp;file&nbsp;is&nbsp;being&nbsp;<br>
written&nbsp;to,&nbsp;the&nbsp;progress.pl&nbsp;script&nbsp;refreshes&nbsp;in&nbsp;the&nbsp;popup&nbsp;window&nbsp;every&nbsp;two&nbsp;<br>
seconds.&amp;nbsp;&nbsp;During&nbsp;each&nbsp;refresh&nbsp;it&nbsp;reads&nbsp;the&nbsp;last&nbsp;&quot;bytesReadIn&nbsp;of&nbsp;totalBytes&quot;&nbsp;<br>
entry&nbsp;in&nbsp;the&nbsp;temp&nbsp;file&nbsp;to&nbsp;create&nbsp;a&nbsp;visual&nbsp;progress&nbsp;bar,&nbsp;bytes&nbsp;counter&nbsp;and&nbsp;time&nbsp;<br>
elapsed.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;In&nbsp;Apache,&nbsp;this&nbsp;whole&nbsp;process&nbsp;works&nbsp;because&nbsp;the&nbsp;<br>
temp&nbsp;file&nbsp;gets&nbsp;created&nbsp;and&nbsp;is&nbsp;written&nbsp;to&nbsp;on&nbsp;every&nbsp;8K&nbsp;buffer&nbsp;flush,&nbsp;thus&nbsp;allowing&nbsp;<br>
the&nbsp;Progress&nbsp;Bar&nbsp;to&nbsp;increment&nbsp;properly&nbsp;in&nbsp;the&nbsp;popup&nbsp;window.&amp;nbsp;&nbsp;In&nbsp;Xitami,&nbsp;the&nbsp;<br>
temp&nbsp;file&nbsp;creation&nbsp;and/or&nbsp;the&nbsp;flush&nbsp;is&nbsp;being&nbsp;ignored&nbsp;and&nbsp;the&nbsp;temp&nbsp;file&nbsp;doesn't&nbsp;<br>
get&nbsp;created&nbsp;until&nbsp;the&nbsp;entire&nbsp;STDIN&nbsp;done&nbsp;being&nbsp;read&nbsp;in,&nbsp;thus&nbsp;the&nbsp;progress&nbsp;bar&nbsp;<br>
popup&nbsp;window&nbsp;remains&nbsp;empty&nbsp;during&nbsp;the&nbsp;entire&nbsp;upload&nbsp;until&nbsp;suddenly&nbsp;it&nbsp;shows&nbsp;100%&nbsp;<br>
completed.&amp;nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;very&nbsp;fundamental&nbsp;difference&nbsp;and&nbsp;issue&nbsp;in&nbsp;the&nbsp;way&nbsp;the&nbsp;<br>
Xitami&nbsp;CGI&nbsp;engine&nbsp;captures&nbsp;the&nbsp;POST&nbsp;data&nbsp;and&nbsp;passes&nbsp;it&nbsp;a&nbsp;parsing&nbsp;script.&nbsp;<br>
&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Can&nbsp;anyone&nbsp;elaborate&nbsp;on&nbsp;this?&amp;nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;very&nbsp;<br>
critical&nbsp;issue&nbsp;for&nbsp;me.&amp;nbsp;&nbsp;I&nbsp;have&nbsp;created&nbsp;a&nbsp;photo&nbsp;upload&nbsp;site&nbsp;and&nbsp;am&nbsp;highly&nbsp;<br>
worried&nbsp;that&nbsp;without&nbsp;a&nbsp;status/progress&nbsp;bar&nbsp;users&nbsp;will&nbsp;think&nbsp;their&nbsp;browser&nbsp;has&nbsp;<br>
hung&nbsp;or&nbsp;the&nbsp;server&nbsp;has&nbsp;timed&nbsp;out.&amp;nbsp;Big&nbsp;uploads&nbsp;of&nbsp;5Mb&nbsp;to&nbsp;15Mb&amp;nbsp;could&nbsp;<br>
take&nbsp;5&nbsp;to&nbsp;8&nbsp;minutes,&nbsp;if&nbsp;users&nbsp;don't&nbsp;see&nbsp;a&nbsp;visual&nbsp;progress&nbsp;meter&nbsp;incrementing&nbsp;<br>
they&nbsp;will&nbsp;cancel&nbsp;the&nbsp;upload.&amp;nbsp;&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Is&nbsp;there&nbsp;some&nbsp;setting&nbsp;or&nbsp;switch&nbsp;I&nbsp;am&nbsp;not&nbsp;aware&nbsp;of&nbsp;<br>
that&nbsp;can&nbsp;correct&nbsp;this&nbsp;problem?&amp;nbsp;&nbsp;If&nbsp;not,&nbsp;I&nbsp;may&nbsp;have&nbsp;to&nbsp;consider&nbsp;moving&nbsp;to&nbsp;<br>
Apache&nbsp;and&nbsp;I&nbsp;have&nbsp;no&nbsp;desire&nbsp;of&nbsp;doing&nbsp;that.&amp;nbsp;&nbsp;I&nbsp;have&nbsp;been&nbsp;a&nbsp;devoted&nbsp;Xitami&nbsp;<br>
user&nbsp;for&nbsp;nearly&nbsp;7&nbsp;years&nbsp;now&nbsp;and&nbsp;have&nbsp;no&nbsp;desire&nbsp;to&nbsp;stop&nbsp;being&nbsp;a&nbsp;Xitami&nbsp;<br>
user.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;-R&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-RIGHT:&nbsp;0px;&nbsp;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;2px&nbsp;solid;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;style=&quot;BACKGROUND:&nbsp;#e4e4e4;&nbsp;FONT:&nbsp;10pt&nbsp;arial;&nbsp;font-color:&nbsp;black&quot;&gt;&lt;B&gt;From:&lt;/B&gt;&nbsp;<br>
&nbsp;&nbsp;&lt;A&nbsp;title=rolinger1@hotmail.com&nbsp;href=&quot;mailto:rolinger1@hotmail.com&quot;&gt;RPO&lt;/A&gt;&nbsp;<br>
&nbsp;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;To:&lt;/B&gt;&nbsp;&lt;A&nbsp;title=xitami@lists.xitami.org&nbsp;<br>
&nbsp;&nbsp;href=&quot;mailto:xitami@lists.xitami.org&quot;&gt;xitami@lists.xitami.org&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Sent:&lt;/B&gt;&nbsp;Sunday,&nbsp;August&nbsp;28,&nbsp;2005&nbsp;4:13&nbsp;<br>
&nbsp;&nbsp;PM&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;style=&quot;FONT:&nbsp;10pt&nbsp;arial&quot;&gt;&lt;B&gt;Subject:&lt;/B&gt;&nbsp;[Xitami]&nbsp;Developer&nbsp;Issue:&nbsp;POST&nbsp;<br>
&nbsp;&nbsp;STDIN&nbsp;vs&nbsp;CGI&nbsp;read&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;I&nbsp;am&nbsp;running&nbsp;Xitami&nbsp;on&nbsp;W2k&nbsp;machine.&amp;nbsp;&nbsp;How&nbsp;<br>
&nbsp;&nbsp;does&nbsp;Xitami&nbsp;handle&nbsp;POST&nbsp;data?&amp;nbsp;&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;read&nbsp;in&nbsp;the&nbsp;raw&nbsp;POST&nbsp;data&nbsp;<br>
&nbsp;&nbsp;from&nbsp;a&nbsp;file&nbsp;upload&nbsp;form,&nbsp;and&nbsp;while&nbsp;reading&nbsp;in&nbsp;the&nbsp;raw&nbsp;data&nbsp;my&nbsp;script&nbsp;writes&nbsp;to&nbsp;<br>
&nbsp;&nbsp;a&nbsp;temp&nbsp;file&nbsp;the&nbsp;progress&nbsp;of&nbsp;that&nbsp;upload.&amp;nbsp;&nbsp;Every&nbsp;8k&nbsp;of&nbsp;POST&nbsp;data&nbsp;the&nbsp;temp&nbsp;<br>
&nbsp;&nbsp;file&nbsp;gets&nbsp;updated.&amp;nbsp;&nbsp;In&nbsp;the&nbsp;script&nbsp;the&nbsp;temp&nbsp;file&nbsp;gets&nbsp;created&nbsp;before&nbsp;the&nbsp;<br>
&nbsp;&nbsp;POST&nbsp;STDIN&nbsp;occurs.&nbsp;However,&nbsp;with&nbsp;Xitami&nbsp;the&nbsp;temp&nbsp;file&nbsp;doesn't&nbsp;get&nbsp;created&nbsp;<br>
&nbsp;&nbsp;until&nbsp;AFTER&nbsp;the&nbsp;entire&nbsp;raw&nbsp;STDIN&nbsp;has&nbsp;been&nbsp;processed,&nbsp;thus&nbsp;preventing&nbsp;the&nbsp;use&nbsp;<br>
&nbsp;&nbsp;of&nbsp;any&nbsp;status&nbsp;or&nbsp;progess&nbsp;data.&amp;nbsp;&nbsp;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;Is&nbsp;Xitami&nbsp;server&nbsp;somehow&nbsp;holding&nbsp;onto&nbsp;the&nbsp;raw&nbsp;<br>
&nbsp;&nbsp;POST&nbsp;data,&nbsp;waiting&nbsp;for&nbsp;it&nbsp;to&nbsp;be&nbsp;completely&nbsp;read&nbsp;in,&nbsp;before&nbsp;handing&nbsp;it&nbsp;off&nbsp;to&nbsp;<br>
&nbsp;&nbsp;the&nbsp;CGI&nbsp;compiler&nbsp;or&nbsp;before&nbsp;handing&nbsp;it&nbsp;off&nbsp;to&nbsp;the&nbsp;perl&nbsp;script?&amp;nbsp;&nbsp;This&nbsp;same&nbsp;<br>
&nbsp;&nbsp;script&nbsp;works&nbsp;on&nbsp;Linux/apache&nbsp;the&nbsp;way&nbsp;its&nbsp;intended&nbsp;to,&nbsp;but&nbsp;on&nbsp;Windows/Xitami&nbsp;<br>
&nbsp;&nbsp;the&nbsp;temp&nbsp;file&nbsp;doesn't&nbsp;get&nbsp;written&nbsp;til&nbsp;after&nbsp;the&nbsp;raw&nbsp;data&nbsp;is&nbsp;completely&nbsp;read&nbsp;<br>
&nbsp;&nbsp;in.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;This&nbsp;is&nbsp;a&nbsp;serious&nbsp;issue&nbsp;because&nbsp;it&nbsp;is&nbsp;inteferring&nbsp;<br>
&nbsp;&nbsp;with&nbsp;the&nbsp;ability&nbsp;to&nbsp;create&nbsp;a&nbsp;Progress&nbsp;Bar&nbsp;that&nbsp;shows&nbsp;users&nbsp;the&nbsp;status&nbsp;of&nbsp;a&nbsp;<br>
&nbsp;&nbsp;multi-file&nbsp;upload.&amp;nbsp;&nbsp;With&nbsp;Perl,&nbsp;the&nbsp;only&nbsp;way&nbsp;to&nbsp;create&nbsp;a&nbsp;Progress&nbsp;Bar&nbsp;is&nbsp;<br>
&nbsp;&nbsp;to&nbsp;write&nbsp;updates&nbsp;to&nbsp;a&nbsp;temp&nbsp;file&nbsp;(bytesIN&nbsp;of&nbsp;totalBytes)&nbsp;while&nbsp;the&nbsp;files&nbsp;are&nbsp;<br>
&nbsp;&nbsp;being&nbsp;uploaded,&nbsp;and&nbsp;a&nbsp;popup&nbsp;window&nbsp;refreshes&nbsp;itself&nbsp;and&nbsp;processes&nbsp;the&nbsp;contents&nbsp;<br>
&nbsp;&nbsp;of&nbsp;that&nbsp;temp&nbsp;file&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;provide&nbsp;the&nbsp;visual&nbsp;progress&nbsp;of&nbsp;the&nbsp;file&nbsp;<br>
&nbsp;&nbsp;upload.&amp;nbsp;&nbsp;If&nbsp;Xitami&nbsp;is&nbsp;somehow&nbsp;interferring&nbsp;with&nbsp;the&nbsp;raw&nbsp;read&nbsp;of&nbsp;POST&nbsp;<br>
&nbsp;&nbsp;data,&nbsp;then&nbsp;there&nbsp;is&nbsp;no&nbsp;effective&nbsp;way&nbsp;of&nbsp;creating&nbsp;that&nbsp;temp&nbsp;file.&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;-Russel&lt;/FONT&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;FONT&nbsp;face=Arial&nbsp;size=2&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;P&gt;<br>
&nbsp;&nbsp;&lt;HR&gt;<br>
<br>
&nbsp;&nbsp;&lt;P&gt;&lt;/P&gt;&lt;BR&gt;--&lt;BR&gt;Xitami&nbsp;Users&nbsp;Mailing&nbsp;List&nbsp;--&nbsp;For&nbsp;Xitami&nbsp;support&lt;BR&gt;To&nbsp;<br>
&nbsp;&nbsp;unsubscribe:&nbsp;<br>
http://lists.xitami.org/mailman/listinfo/xitami&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
